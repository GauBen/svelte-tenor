import{S as Y,i as J,s as X,e as q,c as E,a as z,d as m,J as ie,b as h,f as B,H as b,I as K,j as Z,k as G,m as x,n as H,K as F,o as $,L as A,x as N,u as C,v as ee,M as Ee,r as te,N as ze,w as le,O as me,P as Te,l as re,Q as Ie,R as ne,T as oe,t as P,g as W,U as ae,V as ue,W as be,X as Oe,Y as Re,Z as Ne,h as Ue,_ as Ve}from"../chunks/vendor-e1ec7c32.js";const M=s=>async t=>{const e=new URL(`https://g.tenor.com/v1/${s}`);for(const[n,i]of Object.entries(t))i!==void 0&&e.searchParams.set(n,i.toString());const l=await fetch(e.toString());if(l.status>=400){const n=await l.json();throw new Error(`${n.code}: ${n.error}`)}return l.json()},ve={gifs:M("gifs"),search:M("search"),trending:M("trending"),random:M("random"),searchSuggestions:M("search_suggestions"),autocomplete:M("autocomplete"),trendingTerms:M("trending_terms"),categories:M("categories"),registerShare:M("registershare"),anonid:M("anonid")};async function De(s){return ve.search(s)}async function Ce(s){return ve.registerShare(s)}const Be=({results:s,next:t},e="medium")=>({results:s.map(({id:l,title:n,content_description:i,media:o})=>{const u={low:"nano",medium:"tiny",high:""}[e];return{id:l,description:n.length>0?n:i,width:o[0][`${u}webm`].dims[0],height:o[0][`${u}webm`].dims[1],preview:o[0][`${u}webm`].preview,mp4:o[0][`${u}mp4`].url,webm:o[0][`${u}webm`].url}}),next:t}),Ge=async({key:s,q:t,locale:e,quality:l,safety:n,ratio:i,limit:o,page:u})=>Be(await De({key:s,q:t,locale:e,contentfilter:n,ar_range:i,limit:o,pos:u}),l),He=async s=>Ce(s);function Me(s){let t,e,l,n,i;return{c(){t=q("video"),e=q("source"),n=q("source"),this.h()},l(o){t=E(o,"VIDEO",{width:!0,height:!0,poster:!0,"aria-label":!0,class:!0});var u=z(t);e=E(u,"SOURCE",{src:!0,type:!0}),n=E(u,"SOURCE",{src:!0,type:!0}),u.forEach(m),this.h()},h(){ie(e.src,l=s[0])||h(e,"src",l),h(e,"type","video/webm"),ie(n.src,i=s[1])||h(n,"src",i),h(n,"type","video/mp4"),t.autoplay=!0,t.loop=!0,t.muted=!0,t.playsInline=!0,h(t,"width",s[4]),h(t,"height",s[3]),h(t,"poster",s[2]),h(t,"aria-label",s[5]),h(t,"class","gif-video svelte-let0nd")},m(o,u){B(o,t,u),b(t,e),b(t,n)},p(o,[u]){u&1&&!ie(e.src,l=o[0])&&h(e,"src",l),u&2&&!ie(n.src,i=o[1])&&h(n,"src",i),u&16&&h(t,"width",o[4]),u&8&&h(t,"height",o[3]),u&4&&h(t,"poster",o[2]),u&32&&h(t,"aria-label",o[5])},i:K,o:K,d(o){o&&m(t)}}}function je(s,t,e){let l,n,i,o,u,c,{gif:a}=t;return s.$$set=r=>{"gif"in r&&e(6,a=r.gif)},s.$$.update=()=>{s.$$.dirty&64&&e(5,{description:l,width:n,height:i,preview:o,mp4:u,webm:c}=a,l,(e(4,n),e(6,a)),(e(3,i),e(6,a)),(e(2,o),e(6,a)),(e(1,u),e(6,a)),(e(0,c),e(6,a)))},[c,u,o,i,n,l,a]}class ye extends Y{constructor(t){super();J(this,t,je,Me,X,{gif:6})}}function ke(s,t,e){const l=s.slice();return l[7]=t[e],l}function we(s,t){let e,l,n,i,o,u;l=new ye({props:{gif:t[7]}});function c(){return t[6](t[7])}return{key:s,first:null,c(){e=q("button"),Z(l.$$.fragment),n=G(),this.h()},l(a){e=E(a,"BUTTON",{style:!0,type:!0,class:!0});var r=z(e);x(l.$$.fragment,r),n=H(r),r.forEach(m),this.h()},h(){F(e,"grid-row-end","span "+Math.ceil(t[0]*t[7].height/t[7].width/(ce+t[1]))),h(e,"type","button"),h(e,"class","svelte-5w0eea"),this.first=e},m(a,r){B(a,e,r),$(l,e,null),b(e,n),i=!0,o||(u=A(e,"click",c),o=!0)},p(a,r){t=a;const _={};r&4&&(_.gif=t[7]),l.$set(_),(!i||r&7)&&F(e,"grid-row-end","span "+Math.ceil(t[0]*t[7].height/t[7].width/(ce+t[1])))},i(a){i||(N(l.$$.fragment,a),i=!0)},o(a){C(l.$$.fragment,a),i=!1},d(a){a&&m(e),ee(l),o=!1,u()}}}function Pe(s){let t,e=[],l=new Map,n,i,o,u=s[2];const c=a=>a[7].id;for(let a=0;a<u.length;a+=1){let r=ke(s,u,a),_=c(r);l.set(_,e[a]=we(_,r))}return{c(){t=q("div");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){t=E(a,"DIV",{class:!0,style:!0});var r=z(t);for(let _=0;_<e.length;_+=1)e[_].l(r);r.forEach(m),this.h()},h(){h(t,"class","grid svelte-5w0eea"),F(t,"--column",s[0]+"px"),F(t,"--row",s[3]+"px"),F(t,"--gap",s[1]+"px")},m(a,r){B(a,t,r);for(let _=0;_<e.length;_+=1)e[_].m(t,null);n=!0,i||(o=Ee(s[5].call(null,t)),i=!0)},p(a,[r]){r&23&&(u=a[2],te(),e=ze(e,r,c,1,a,u,l,t,Te,we,null,ke),le()),(!n||r&1)&&F(t,"--column",a[0]+"px"),(!n||r&8)&&F(t,"--row",a[3]+"px"),(!n||r&2)&&F(t,"--gap",a[1]+"px")},i(a){if(!n){for(let r=0;r<u.length;r+=1)N(e[r]);n=!0}},o(a){for(let r=0;r<e.length;r+=1)C(e[r]);n=!1},d(a){a&&m(t);for(let r=0;r<e.length;r+=1)e[r].d();i=!1,o()}}}const ce=8;function We(s,t,e){let{columnSize:l=160}=t,n=ce,{gap:i=8}=t,{gifs:o=[]}=t;const u=me(),c=r=>{let _=[-1,-1];const w=new ResizeObserver(()=>{if(r.offsetWidth===_[0])return;_=[_[1],r.offsetWidth];const v=window.getComputedStyle(r).getPropertyValue("grid-template-columns").split(" ").length,y=r.offsetWidth-(v-1)*i;e(3,n=y/v*(ce+i)/l-i)});return w.observe(r),{destroy(){w.unobserve(r)}}},a=r=>u("click",r);return s.$$set=r=>{"columnSize"in r&&e(0,l=r.columnSize),"gap"in r&&e(1,i=r.gap),"gifs"in r&&e(2,o=r.gifs)},[l,i,o,n,u,c,a]}class Fe extends Y{constructor(t){super();J(this,t,We,Pe,X,{columnSize:0,gap:1,gifs:2})}}function pe(s){let t,e;return t=new Fe({props:{gifs:s[0],columnSize:s[1],gap:s[2]}}),t.$on("click",s[12]),{c(){Z(t.$$.fragment)},l(l){x(t.$$.fragment,l)},m(l,n){$(t,l,n),e=!0},p(l,n){const i={};n&1&&(i.gifs=l[0]),n&2&&(i.columnSize=l[1]),n&4&&(i.gap=l[2]),t.$set(i)},i(l){e||(N(t.$$.fragment,l),e=!0)},o(l){C(t.$$.fragment,l),e=!1},d(l){ee(t,l)}}}function Le(s){let t,e,l=s[0]!==void 0&&pe(s);return{c(){l&&l.c(),t=re()},l(n){l&&l.l(n),t=re()},m(n,i){l&&l.m(n,i),B(n,t,i),e=!0},p(n,[i]){n[0]!==void 0?l?(l.p(n,i),i&1&&N(l,1)):(l=pe(n),l.c(),N(l,1),l.m(t.parentNode,t)):l&&(te(),C(l,1,1,()=>{l=null}),le())},i(n){e||(N(l),e=!0)},o(n){C(l),e=!1},d(n){l&&l.d(n),n&&m(t)}}}function Ae(s,t,e){let{key:l}=t,{q:n}=t,{locale:i=void 0}=t,{quality:o=void 0}=t,{safety:u=void 0}=t,{ratio:c=void 0}=t,{limit:a=void 0}=t,{page:r=1}=t,{columnSize:_=void 0}=t,{gap:w=void 0}=t,{loading:v=!0}=t,{gifs:y=void 0}=t,U,I=[],V=async()=>{for(var g;I.length<r;){e(4,v=!0);let O=Ge({key:l,q:n,locale:i,quality:o,safety:u,ratio:c,limit:a,page:(g=I[I.length-1])===null||g===void 0?void 0:g.next});U=O;let p=await O;if(U!==O)return;I=[...I,p]}e(0,y=I.slice(0,r).flatMap(({results:O})=>O)),e(4,v=!1)};function j(g){Ie.call(this,s,g)}return s.$$set=g=>{"key"in g&&e(5,l=g.key),"q"in g&&e(6,n=g.q),"locale"in g&&e(7,i=g.locale),"quality"in g&&e(8,o=g.quality),"safety"in g&&e(9,u=g.safety),"ratio"in g&&e(10,c=g.ratio),"limit"in g&&e(11,a=g.limit),"page"in g&&e(3,r=g.page),"columnSize"in g&&e(1,_=g.columnSize),"gap"in g&&e(2,w=g.gap),"loading"in g&&e(4,v=g.loading),"gifs"in g&&e(0,y=g.gifs)},s.$$.update=()=>{s.$$.dirty&64&&(e(3,r=1),I=[]),s.$$.dirty&72&&V()},[y,_,w,r,v,l,n,i,o,u,c,a,j]}class Ke extends Y{constructor(t){super();J(this,t,Ae,Le,X,{key:5,q:6,locale:7,quality:8,safety:9,ratio:10,limit:11,page:3,columnSize:1,gap:2,loading:4,gifs:0})}}function Qe(s){let t,e,l,n,i,o,u,c,a,r,_,w,v,y,U,I,V;function j(k){s[15](k)}function g(k){s[16](k)}function O(k){s[17](k)}let p={key:s[4],q:s[0],locale:s[5],quality:s[6],safety:s[7],ratio:s[8],limit:s[9],columnSize:s[10],gap:s[11]};return s[1]!==void 0&&(p.page=s[1]),s[2]!==void 0&&(p.loading=s[2]),s[3]!==void 0&&(p.gifs=s[3]),c=new Ke({props:p}),ne.push(()=>oe(c,"page",j)),ne.push(()=>oe(c,"loading",g)),ne.push(()=>oe(c,"gifs",O)),c.$on("click",s[18]),{c(){t=q("div"),e=q("div"),l=q("button"),n=P("Close"),i=G(),o=q("input"),u=G(),Z(c.$$.fragment),w=G(),v=q("button"),y=P("Load more"),this.h()},l(k){t=E(k,"DIV",{class:!0});var f=z(t);e=E(f,"DIV",{class:!0});var S=z(e);l=E(S,"BUTTON",{type:!0,class:!0});var Q=z(l);n=W(Q,"Close"),Q.forEach(m),i=H(S),o=E(S,"INPUT",{type:!0,placeholder:!0,class:!0}),S.forEach(m),u=H(f),x(c.$$.fragment,f),w=H(f),v=E(f,"BUTTON",{class:!0});var d=z(v);y=W(d,"Load more"),d.forEach(m),f.forEach(m),this.h()},h(){h(l,"type","button"),h(l,"class","svelte-a0mlr3"),h(o,"type","search"),h(o,"placeholder","Search Tenor"),h(o,"class","svelte-a0mlr3"),h(e,"class","row svelte-a0mlr3"),h(v,"class","svelte-a0mlr3"),h(t,"class","keyboard")},m(k,f){B(k,t,f),b(t,e),b(e,l),b(l,n),b(e,i),b(e,o),ae(o,s[0]),b(t,u),$(c,t,null),b(t,w),b(t,v),b(v,y),U=!0,I||(V=[A(l,"click",s[13]),A(o,"input",s[14]),A(v,"click",s[19])],I=!0)},p(k,[f]){f&1&&ae(o,k[0]);const S={};f&16&&(S.key=k[4]),f&1&&(S.q=k[0]),f&32&&(S.locale=k[5]),f&64&&(S.quality=k[6]),f&128&&(S.safety=k[7]),f&256&&(S.ratio=k[8]),f&512&&(S.limit=k[9]),f&1024&&(S.columnSize=k[10]),f&2048&&(S.gap=k[11]),!a&&f&2&&(a=!0,S.page=k[1],ue(()=>a=!1)),!r&&f&4&&(r=!0,S.loading=k[2],ue(()=>r=!1)),!_&&f&8&&(_=!0,S.gifs=k[3],ue(()=>_=!1)),c.$set(S)},i(k){U||(N(c.$$.fragment,k),U=!0)},o(k){C(c.$$.fragment,k),U=!1},d(k){k&&m(t),ee(c),I=!1,be(V)}}}function Ye(s,t,e){let{key:l}=t,{q:n=""}=t,{locale:i=void 0}=t,{quality:o=void 0}=t,{safety:u=void 0}=t,{ratio:c=void 0}=t,{limit:a=void 0}=t,{page:r=1}=t,{columnSize:_=void 0}=t,{gap:w=void 0}=t,{loading:v=!0}=t,{gifs:y=void 0}=t;const U=me(),I=()=>{U("close")};function V(){n=this.value,e(0,n)}function j(f){r=f,e(1,r)}function g(f){v=f,e(2,v)}function O(f){y=f,e(3,y)}const p=async({detail:f})=>{U("click",f),He({key:l,id:f.id,q:n,locale:i})},k=()=>e(1,r++,r);return s.$$set=f=>{"key"in f&&e(4,l=f.key),"q"in f&&e(0,n=f.q),"locale"in f&&e(5,i=f.locale),"quality"in f&&e(6,o=f.quality),"safety"in f&&e(7,u=f.safety),"ratio"in f&&e(8,c=f.ratio),"limit"in f&&e(9,a=f.limit),"page"in f&&e(1,r=f.page),"columnSize"in f&&e(10,_=f.columnSize),"gap"in f&&e(11,w=f.gap),"loading"in f&&e(2,v=f.loading),"gifs"in f&&e(3,y=f.gifs)},[n,r,v,y,l,i,o,u,c,a,_,w,U,I,V,j,g,O,p,k]}class Je extends Y{constructor(t){super();J(this,t,Ye,Qe,X,{key:4,q:0,locale:5,quality:6,safety:7,ratio:8,limit:9,page:1,columnSize:10,gap:11,loading:2,gifs:3})}}function Se(s,t,e){const l=s.slice();return l[11]=t[e],l}function Xe(s){let t,e=s[11].body+"",l;return{c(){t=q("div"),l=P(e),this.h()},l(n){t=E(n,"DIV",{class:!0});var i=z(t);l=W(i,e),i.forEach(m),this.h()},h(){h(t,"class","message text svelte-vc19ls")},m(n,i){B(n,t,i),b(t,l)},p(n,i){i&1&&e!==(e=n[11].body+"")&&Ue(l,e)},i:K,o:K,d(n){n&&m(t)}}}function Ze(s){let t,e,l;return e=new ye({props:{gif:s[11].body}}),{c(){t=q("div"),Z(e.$$.fragment),this.h()},l(n){t=E(n,"DIV",{class:!0});var i=z(t);x(e.$$.fragment,i),i.forEach(m),this.h()},h(){h(t,"class","message svelte-vc19ls")},m(n,i){B(n,t,i),$(e,t,null),l=!0},p(n,i){const o={};i&1&&(o.gif=n[11].body),e.$set(o)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){C(e.$$.fragment,n),l=!1},d(n){n&&m(t),ee(e)}}}function qe(s){let t,e,l,n;const i=[Ze,Xe],o=[];function u(c,a){return c[11].gif?0:1}return t=u(s),e=o[t]=i[t](s),{c(){e.c(),l=re()},l(c){e.l(c),l=re()},m(c,a){o[t].m(c,a),B(c,l,a),n=!0},p(c,a){let r=t;t=u(c),t===r?o[t].p(c,a):(te(),C(o[r],1,1,()=>{o[r]=null}),le(),e=o[t],e?e.p(c,a):(e=o[t]=i[t](c),e.c()),N(e,1),e.m(l.parentNode,l))},i(c){n||(N(e),n=!0)},o(c){C(e),n=!1},d(c){o[t].d(c),c&&m(l)}}}function xe(s){let t,e,l,n,i,o,u,c,a,r;return{c(){t=q("form"),e=q("button"),l=P("GIF"),n=G(),i=q("input"),o=G(),u=q("button"),c=P("\u25B6"),this.h()},l(_){t=E(_,"FORM",{class:!0});var w=z(t);e=E(w,"BUTTON",{type:!0});var v=z(e);l=W(v,"GIF"),v.forEach(m),n=H(w),i=E(w,"INPUT",{type:!0,class:!0}),o=H(w),u=E(w,"BUTTON",{});var y=z(u);c=W(y,"\u25B6"),y.forEach(m),w.forEach(m),this.h()},h(){h(e,"type","button"),h(i,"type","text"),h(i,"class","text-input svelte-vc19ls"),h(t,"class","form svelte-vc19ls")},m(_,w){B(_,t,w),b(t,e),b(e,l),b(t,n),b(t,i),ae(i,s[3]),b(t,o),b(t,u),b(u,c),a||(r=[A(e,"click",s[8]),A(i,"input",s[9]),A(t,"submit",Ve(s[10]))],a=!0)},p(_,w){w&8&&i.value!==_[3]&&ae(i,_[3])},i:K,o:K,d(_){_&&m(t),a=!1,be(r)}}}function $e(s){let t,e,l,n;function i(u){s[5](u)}let o={key:"OY94CH1Q77WO"};return s[3]!==void 0&&(o.q=s[3]),e=new Je({props:o}),ne.push(()=>oe(e,"q",i)),e.$on("click",s[6]),e.$on("close",s[7]),{c(){t=q("div"),Z(e.$$.fragment),this.h()},l(u){t=E(u,"DIV",{class:!0});var c=z(t);x(e.$$.fragment,c),c.forEach(m),this.h()},h(){h(t,"class","keyboard svelte-vc19ls")},m(u,c){B(u,t,c),$(e,t,null),n=!0},p(u,c){const a={};!l&&c&8&&(l=!0,a.q=u[3],ue(()=>l=!1)),e.$set(a)},i(u){n||(N(e.$$.fragment,u),n=!0)},o(u){C(e.$$.fragment,u),n=!1},d(u){u&&m(t),ee(e)}}}function et(s){let t,e,l,n,i,o,u,c,a,r,_,w,v,y,U,I,V,j,g,O=s[0],p=[];for(let d=0;d<O.length;d+=1)p[d]=qe(Se(s,O,d));const k=d=>C(p[d],1,1,()=>{p[d]=null}),f=[$e,xe],S=[];function Q(d,R){return d[1]?0:1}return a=Q(s),r=S[a]=f[a](s),{c(){t=G(),e=q("main"),l=q("h1"),n=P("svelte-tenor"),i=G(),o=q("div"),u=q("div");for(let d=0;d<p.length;d+=1)p[d].c();c=G(),r.c(),_=G(),w=q("footer"),v=q("p"),y=q("a"),U=P("Check out the storybook"),I=P(` \u2013
      `),V=q("a"),j=P("Back to GitHub"),this.h()},l(d){Oe('[data-svelte="svelte-1arxumj"]',document.head).forEach(m),t=H(d),e=E(d,"MAIN",{class:!0});var D=z(e);l=E(D,"H1",{class:!0});var T=z(l);n=W(T,"svelte-tenor"),T.forEach(m),i=H(D),o=E(D,"DIV",{class:!0});var L=z(o);u=E(L,"DIV",{class:!0});var he=z(u);for(let fe=0;fe<p.length;fe+=1)p[fe].l(he);he.forEach(m),c=H(L),r.l(L),L.forEach(m),_=H(D),w=E(D,"FOOTER",{class:!0});var _e=z(w);v=E(_e,"P",{});var se=z(v);y=E(se,"A",{href:!0,rel:!0,class:!0});var ge=z(y);U=W(ge,"Check out the storybook"),ge.forEach(m),I=W(se,` \u2013
      `),V=E(se,"A",{href:!0,class:!0});var de=z(V);j=W(de,"Back to GitHub"),de.forEach(m),se.forEach(m),_e.forEach(m),D.forEach(m),this.h()},h(){document.title="svelte-tenor",h(l,"class","svelte-vc19ls"),h(u,"class","messages svelte-vc19ls"),h(o,"class","phone svelte-vc19ls"),h(y,"href","./storybook/"),h(y,"rel","external"),h(y,"class","svelte-vc19ls"),h(V,"href","https://github.com/gauben/svelte-tenor"),h(V,"class","svelte-vc19ls"),h(w,"class","svelte-vc19ls"),h(e,"class","svelte-vc19ls")},m(d,R){B(d,t,R),B(d,e,R),b(e,l),b(l,n),b(e,i),b(e,o),b(o,u);for(let D=0;D<p.length;D+=1)p[D].m(u,null);s[4](u),b(o,c),S[a].m(o,null),b(e,_),b(e,w),b(w,v),b(v,y),b(y,U),b(v,I),b(v,V),b(V,j),g=!0},p(d,[R]){if(R&1){O=d[0];let T;for(T=0;T<O.length;T+=1){const L=Se(d,O,T);p[T]?(p[T].p(L,R),N(p[T],1)):(p[T]=qe(L),p[T].c(),N(p[T],1),p[T].m(u,null))}for(te(),T=O.length;T<p.length;T+=1)k(T);le()}let D=a;a=Q(d),a===D?S[a].p(d,R):(te(),C(S[D],1,1,()=>{S[D]=null}),le(),r=S[a],r?r.p(d,R):(r=S[a]=f[a](d),r.c()),N(r,1),r.m(o,null))},i(d){if(!g){for(let R=0;R<O.length;R+=1)N(p[R]);N(r),g=!0}},o(d){p=p.filter(Boolean);for(let R=0;R<p.length;R+=1)C(p[R]);C(r),g=!1},d(d){d&&m(t),d&&m(e),Re(p,d),s[4](null),S[a].d()}}}function tt(s,t,e){let l=[{gif:!1,body:"Hello World!"}],n=!1,i="",o;function u(y){ne[y?"unshift":"push"](()=>{o=y,e(2,o)})}function c(y){i=y,e(3,i)}const a=({detail:y})=>{e(0,l=[...l,{gif:!0,body:y}]),e(1,n=!1),e(3,i="")},r=()=>{e(1,n=!1)},_=()=>{e(1,n=!0)};function w(){i=this.value,e(3,i)}const v=()=>{!i||(e(0,l=[...l,{gif:!1,body:i}]),e(3,i=""))};return s.$$.update=()=>{s.$$.dirty&7&&Ne().then(()=>{o==null||o.scrollTo({top:o.scrollHeight})})},[l,n,o,i,u,c,a,r,_,w,v]}class nt extends Y{constructor(t){super();J(this,t,tt,et,X,{})}}export{nt as default};

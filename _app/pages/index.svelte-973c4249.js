import{S as Y,i as J,s as X,e as S,c as E,J as de,b as g,f as B,I as K,d as k,j as Z,k as C,a as z,m as x,n as M,K as F,o as $,H as q,L as A,x as R,u as U,v as ee,M as Ee,r as te,N as ze,w as le,O as me,P as Te,l as se,Q as Ie,R as ne,T as re,t as P,g as W,U as ae,V as oe,W as be,X as Oe,Y as Ne,Z as Re,h as Ve,_ as De}from"../chunks/vendor-e1ec7c32.js";const H=i=>async t=>{const e=new URL(`https://g.tenor.com/v1/${i}`);for(const[n,s]of Object.entries(t))s!==void 0&&e.searchParams.set(n,s.toString());const l=await fetch(e.toString());if(l.status>=400){const n=await l.json();throw new Error(`${n.code}: ${n.error}`)}return l.json()},ye={gifs:H("gifs"),search:H("search"),trending:H("trending"),random:H("random"),searchSuggestions:H("search_suggestions"),autocomplete:H("autocomplete"),trendingTerms:H("trending_terms"),categories:H("categories"),registerShare:H("registershare"),anonid:H("anonid")};async function Ge(i){return ye.search(i)}async function Ue(i){return ye.registerShare(i)}const Be=({results:i,next:t},e="medium")=>({results:i.map(({id:l,title:n,content_description:s,media:o})=>{const f={low:"nano",medium:"tiny",high:""}[e];return{id:l,description:n.length>0?n:s,width:o[0][`${f}gif`].dims[0],height:o[0][`${f}gif`].dims[1],gif:o[0][`${f}gif`].url}}),next:t}),Ce=async({key:i,q:t,locale:e,quality:l,safety:n,ratio:s,limit:o,page:f})=>Be(await Ge({key:i,q:t,locale:e,contentfilter:n,ar_range:s,limit:o,pos:f}),l),Me=async i=>Ue(i);function He(i){let t,e;return{c(){t=S("img"),this.h()},l(l){t=E(l,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),this.h()},h(){de(t.src,e=i[0])||g(t,"src",e),g(t,"alt",i[3]),g(t,"width",i[2]),g(t,"height",i[1]),g(t,"class","svelte-14pl11")},m(l,n){B(l,t,n)},p(l,[n]){n&1&&!de(t.src,e=l[0])&&g(t,"src",e),n&8&&g(t,"alt",l[3]),n&4&&g(t,"width",l[2]),n&2&&g(t,"height",l[1])},i:K,o:K,d(l){l&&k(t)}}}function je(i,t,e){let l,n,s,o,{gif:f}=t;return i.$$set=u=>{"gif"in u&&e(4,f=u.gif)},i.$$.update=()=>{i.$$.dirty&16&&e(3,{description:l,width:n,height:s,gif:o}=f,l,(e(2,n),e(4,f)),(e(1,s),e(4,f)),(e(0,o),e(4,f)))},[o,s,n,l,f]}class ke extends Y{constructor(t){super();J(this,t,je,He,X,{gif:4})}}function ve(i,t,e){const l=i.slice();return l[7]=t[e],l}function we(i,t){let e,l,n,s,o,f;l=new ke({props:{gif:t[7]}});function u(){return t[6](t[7])}return{key:i,first:null,c(){e=S("button"),Z(l.$$.fragment),n=C(),this.h()},l(a){e=E(a,"BUTTON",{style:!0,type:!0,class:!0});var r=z(e);x(l.$$.fragment,r),n=M(r),r.forEach(k),this.h()},h(){F(e,"grid-row-end","span "+Math.ceil(t[0]*t[7].height/t[7].width/(fe+t[1]))),g(e,"type","button"),g(e,"class","svelte-udll87"),this.first=e},m(a,r){B(a,e,r),$(l,e,null),q(e,n),s=!0,o||(f=A(e,"click",u),o=!0)},p(a,r){t=a;const h={};r&4&&(h.gif=t[7]),l.$set(h),(!s||r&7)&&F(e,"grid-row-end","span "+Math.ceil(t[0]*t[7].height/t[7].width/(fe+t[1])))},i(a){s||(R(l.$$.fragment,a),s=!0)},o(a){U(l.$$.fragment,a),s=!1},d(a){a&&k(e),ee(l),o=!1,f()}}}function Pe(i){let t,e=[],l=new Map,n,s,o,f=i[2];const u=a=>a[7].id;for(let a=0;a<f.length;a+=1){let r=ve(i,f,a),h=u(r);l.set(h,e[a]=we(h,r))}return{c(){t=S("div");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){t=E(a,"DIV",{class:!0,style:!0});var r=z(t);for(let h=0;h<e.length;h+=1)e[h].l(r);r.forEach(k),this.h()},h(){g(t,"class","grid svelte-udll87"),F(t,"--column",i[0]+"px"),F(t,"--row",i[3]+"px"),F(t,"--gap",i[1]+"px")},m(a,r){B(a,t,r);for(let h=0;h<e.length;h+=1)e[h].m(t,null);n=!0,s||(o=Ee(i[5].call(null,t)),s=!0)},p(a,[r]){r&23&&(f=a[2],te(),e=ze(e,r,u,1,a,f,l,t,Te,we,null,ve),le()),(!n||r&1)&&F(t,"--column",a[0]+"px"),(!n||r&8)&&F(t,"--row",a[3]+"px"),(!n||r&2)&&F(t,"--gap",a[1]+"px")},i(a){if(!n){for(let r=0;r<f.length;r+=1)R(e[r]);n=!0}},o(a){for(let r=0;r<e.length;r+=1)U(e[r]);n=!1},d(a){a&&k(t);for(let r=0;r<e.length;r+=1)e[r].d();s=!1,o()}}}const fe=8;function We(i,t,e){let{columnSize:l=160}=t,n=fe,{gap:s=8}=t,{gifs:o=[]}=t;const f=me(),u=r=>{let h=[-1,-1];const v=new ResizeObserver(()=>{if(r.offsetWidth===h[0])return;h=[h[1],r.offsetWidth];const m=window.getComputedStyle(r).getPropertyValue("grid-template-columns").split(" ").length,b=r.offsetWidth-(m-1)*s;e(3,n=b/m*(fe+s)/l-s)});return v.observe(r),{destroy(){v.unobserve(r)}}},a=r=>f("click",r);return i.$$set=r=>{"columnSize"in r&&e(0,l=r.columnSize),"gap"in r&&e(1,s=r.gap),"gifs"in r&&e(2,o=r.gifs)},[l,s,o,n,f,u,a]}class Fe extends Y{constructor(t){super();J(this,t,We,Pe,X,{columnSize:0,gap:1,gifs:2})}}function qe(i){let t,e;return t=new Fe({props:{gifs:i[0],columnSize:i[1],gap:i[2]}}),t.$on("click",i[12]),{c(){Z(t.$$.fragment)},l(l){x(t.$$.fragment,l)},m(l,n){$(t,l,n),e=!0},p(l,n){const s={};n&1&&(s.gifs=l[0]),n&2&&(s.columnSize=l[1]),n&4&&(s.gap=l[2]),t.$set(s)},i(l){e||(R(t.$$.fragment,l),e=!0)},o(l){U(t.$$.fragment,l),e=!1},d(l){ee(t,l)}}}function Le(i){let t,e,l=i[0]!==void 0&&qe(i);return{c(){l&&l.c(),t=se()},l(n){l&&l.l(n),t=se()},m(n,s){l&&l.m(n,s),B(n,t,s),e=!0},p(n,[s]){n[0]!==void 0?l?(l.p(n,s),s&1&&R(l,1)):(l=qe(n),l.c(),R(l,1),l.m(t.parentNode,t)):l&&(te(),U(l,1,1,()=>{l=null}),le())},i(n){e||(R(l),e=!0)},o(n){U(l),e=!1},d(n){l&&l.d(n),n&&k(t)}}}function Ae(i,t,e){let{key:l}=t,{q:n}=t,{locale:s=void 0}=t,{quality:o=void 0}=t,{safety:f=void 0}=t,{ratio:u=void 0}=t,{limit:a=void 0}=t,{page:r=1}=t,{columnSize:h=void 0}=t,{gap:v=void 0}=t,{loading:m=!0}=t,{gifs:b=void 0}=t,V,I=[],D=async()=>{for(var _;I.length<r;){e(4,m=!0);let O=Ce({key:l,q:n,locale:s,quality:o,safety:f,ratio:u,limit:a,page:(_=I[I.length-1])===null||_===void 0?void 0:_.next});V=O;let w=await O;if(V!==O)return;I=[...I,w]}e(0,b=I.slice(0,r).flatMap(({results:O})=>O)),e(4,m=!1)};function j(_){Ie.call(this,i,_)}return i.$$set=_=>{"key"in _&&e(5,l=_.key),"q"in _&&e(6,n=_.q),"locale"in _&&e(7,s=_.locale),"quality"in _&&e(8,o=_.quality),"safety"in _&&e(9,f=_.safety),"ratio"in _&&e(10,u=_.ratio),"limit"in _&&e(11,a=_.limit),"page"in _&&e(3,r=_.page),"columnSize"in _&&e(1,h=_.columnSize),"gap"in _&&e(2,v=_.gap),"loading"in _&&e(4,m=_.loading),"gifs"in _&&e(0,b=_.gifs)},i.$$.update=()=>{i.$$.dirty&64&&(e(3,r=1),I=[]),i.$$.dirty&72&&D()},[b,h,v,r,m,l,n,s,o,f,u,a,j]}class Ke extends Y{constructor(t){super();J(this,t,Ae,Le,X,{key:5,q:6,locale:7,quality:8,safety:9,ratio:10,limit:11,page:3,columnSize:1,gap:2,loading:4,gifs:0})}}function Qe(i){let t,e,l,n,s,o,f,u,a,r,h,v,m,b,V,I,D;function j(y){i[15](y)}function _(y){i[16](y)}function O(y){i[17](y)}let w={key:i[4],q:i[0],locale:i[5],quality:i[6],safety:i[7],ratio:i[8],limit:i[9],columnSize:i[10],gap:i[11]};return i[1]!==void 0&&(w.page=i[1]),i[2]!==void 0&&(w.loading=i[2]),i[3]!==void 0&&(w.gifs=i[3]),u=new Ke({props:w}),ne.push(()=>re(u,"page",j)),ne.push(()=>re(u,"loading",_)),ne.push(()=>re(u,"gifs",O)),u.$on("click",i[18]),{c(){t=S("div"),e=S("div"),l=S("button"),n=P("Close"),s=C(),o=S("input"),f=C(),Z(u.$$.fragment),v=C(),m=S("button"),b=P("Load more"),this.h()},l(y){t=E(y,"DIV",{class:!0});var c=z(t);e=E(c,"DIV",{class:!0});var p=z(e);l=E(p,"BUTTON",{type:!0,class:!0});var Q=z(l);n=W(Q,"Close"),Q.forEach(k),s=M(p),o=E(p,"INPUT",{type:!0,placeholder:!0,class:!0}),p.forEach(k),f=M(c),x(u.$$.fragment,c),v=M(c),m=E(c,"BUTTON",{class:!0});var d=z(m);b=W(d,"Load more"),d.forEach(k),c.forEach(k),this.h()},h(){g(l,"type","button"),g(l,"class","svelte-a0mlr3"),g(o,"type","search"),g(o,"placeholder","Search Tenor"),g(o,"class","svelte-a0mlr3"),g(e,"class","row svelte-a0mlr3"),g(m,"class","svelte-a0mlr3"),g(t,"class","keyboard")},m(y,c){B(y,t,c),q(t,e),q(e,l),q(l,n),q(e,s),q(e,o),ae(o,i[0]),q(t,f),$(u,t,null),q(t,v),q(t,m),q(m,b),V=!0,I||(D=[A(l,"click",i[13]),A(o,"input",i[14]),A(m,"click",i[19])],I=!0)},p(y,[c]){c&1&&ae(o,y[0]);const p={};c&16&&(p.key=y[4]),c&1&&(p.q=y[0]),c&32&&(p.locale=y[5]),c&64&&(p.quality=y[6]),c&128&&(p.safety=y[7]),c&256&&(p.ratio=y[8]),c&512&&(p.limit=y[9]),c&1024&&(p.columnSize=y[10]),c&2048&&(p.gap=y[11]),!a&&c&2&&(a=!0,p.page=y[1],oe(()=>a=!1)),!r&&c&4&&(r=!0,p.loading=y[2],oe(()=>r=!1)),!h&&c&8&&(h=!0,p.gifs=y[3],oe(()=>h=!1)),u.$set(p)},i(y){V||(R(u.$$.fragment,y),V=!0)},o(y){U(u.$$.fragment,y),V=!1},d(y){y&&k(t),ee(u),I=!1,be(D)}}}function Ye(i,t,e){let{key:l}=t,{q:n=""}=t,{locale:s=void 0}=t,{quality:o=void 0}=t,{safety:f=void 0}=t,{ratio:u=void 0}=t,{limit:a=void 0}=t,{page:r=1}=t,{columnSize:h=void 0}=t,{gap:v=void 0}=t,{loading:m=!0}=t,{gifs:b=void 0}=t;const V=me(),I=()=>{V("close")};function D(){n=this.value,e(0,n)}function j(c){r=c,e(1,r)}function _(c){m=c,e(2,m)}function O(c){b=c,e(3,b)}const w=async({detail:c})=>{V("click",c),Me({key:l,id:c.id,q:n,locale:s})},y=()=>e(1,r++,r);return i.$$set=c=>{"key"in c&&e(4,l=c.key),"q"in c&&e(0,n=c.q),"locale"in c&&e(5,s=c.locale),"quality"in c&&e(6,o=c.quality),"safety"in c&&e(7,f=c.safety),"ratio"in c&&e(8,u=c.ratio),"limit"in c&&e(9,a=c.limit),"page"in c&&e(1,r=c.page),"columnSize"in c&&e(10,h=c.columnSize),"gap"in c&&e(11,v=c.gap),"loading"in c&&e(2,m=c.loading),"gifs"in c&&e(3,b=c.gifs)},[n,r,m,b,l,s,o,f,u,a,h,v,V,I,D,j,_,O,w,y]}class Je extends Y{constructor(t){super();J(this,t,Ye,Qe,X,{key:4,q:0,locale:5,quality:6,safety:7,ratio:8,limit:9,page:1,columnSize:10,gap:11,loading:2,gifs:3})}}function pe(i,t,e){const l=i.slice();return l[11]=t[e],l}function Xe(i){let t,e=i[11].body+"",l;return{c(){t=S("div"),l=P(e),this.h()},l(n){t=E(n,"DIV",{class:!0});var s=z(t);l=W(s,e),s.forEach(k),this.h()},h(){g(t,"class","message text svelte-8wq399")},m(n,s){B(n,t,s),q(t,l)},p(n,s){s&1&&e!==(e=n[11].body+"")&&Ve(l,e)},i:K,o:K,d(n){n&&k(t)}}}function Ze(i){let t,e,l;return e=new ke({props:{gif:i[11].body}}),{c(){t=S("div"),Z(e.$$.fragment),this.h()},l(n){t=E(n,"DIV",{class:!0});var s=z(t);x(e.$$.fragment,s),s.forEach(k),this.h()},h(){g(t,"class","message svelte-8wq399")},m(n,s){B(n,t,s),$(e,t,null),l=!0},p(n,s){const o={};s&1&&(o.gif=n[11].body),e.$set(o)},i(n){l||(R(e.$$.fragment,n),l=!0)},o(n){U(e.$$.fragment,n),l=!1},d(n){n&&k(t),ee(e)}}}function Se(i){let t,e,l,n;const s=[Ze,Xe],o=[];function f(u,a){return u[11].gif?0:1}return t=f(i),e=o[t]=s[t](i),{c(){e.c(),l=se()},l(u){e.l(u),l=se()},m(u,a){o[t].m(u,a),B(u,l,a),n=!0},p(u,a){let r=t;t=f(u),t===r?o[t].p(u,a):(te(),U(o[r],1,1,()=>{o[r]=null}),le(),e=o[t],e?e.p(u,a):(e=o[t]=s[t](u),e.c()),R(e,1),e.m(l.parentNode,l))},i(u){n||(R(e),n=!0)},o(u){U(e),n=!1},d(u){o[t].d(u),u&&k(l)}}}function xe(i){let t,e,l,n,s,o,f,u,a,r;return{c(){t=S("form"),e=S("button"),l=P("GIF"),n=C(),s=S("input"),o=C(),f=S("button"),u=P("\u25B6"),this.h()},l(h){t=E(h,"FORM",{class:!0});var v=z(t);e=E(v,"BUTTON",{type:!0});var m=z(e);l=W(m,"GIF"),m.forEach(k),n=M(v),s=E(v,"INPUT",{type:!0,class:!0}),o=M(v),f=E(v,"BUTTON",{});var b=z(f);u=W(b,"\u25B6"),b.forEach(k),v.forEach(k),this.h()},h(){g(e,"type","button"),g(s,"type","text"),g(s,"class","text-input svelte-8wq399"),g(t,"class","form svelte-8wq399")},m(h,v){B(h,t,v),q(t,e),q(e,l),q(t,n),q(t,s),ae(s,i[3]),q(t,o),q(t,f),q(f,u),a||(r=[A(e,"click",i[8]),A(s,"input",i[9]),A(t,"submit",De(i[10]))],a=!0)},p(h,v){v&8&&s.value!==h[3]&&ae(s,h[3])},i:K,o:K,d(h){h&&k(t),a=!1,be(r)}}}function $e(i){let t,e,l,n;function s(f){i[5](f)}let o={key:"OY94CH1Q77WO",columnSize:140,gap:4};return i[3]!==void 0&&(o.q=i[3]),e=new Je({props:o}),ne.push(()=>re(e,"q",s)),e.$on("click",i[6]),e.$on("close",i[7]),{c(){t=S("div"),Z(e.$$.fragment),this.h()},l(f){t=E(f,"DIV",{class:!0});var u=z(t);x(e.$$.fragment,u),u.forEach(k),this.h()},h(){g(t,"class","keyboard svelte-8wq399")},m(f,u){B(f,t,u),$(e,t,null),n=!0},p(f,u){const a={};!l&&u&8&&(l=!0,a.q=f[3],oe(()=>l=!1)),e.$set(a)},i(f){n||(R(e.$$.fragment,f),n=!0)},o(f){U(e.$$.fragment,f),n=!1},d(f){f&&k(t),ee(e)}}}function et(i){let t,e,l,n,s,o,f,u,a,r,h,v,m,b,V,I,D,j,_,O=i[0],w=[];for(let d=0;d<O.length;d+=1)w[d]=Se(pe(i,O,d));const y=d=>U(w[d],1,1,()=>{w[d]=null}),c=[$e,xe],p=[];function Q(d,N){return d[1]?0:1}return a=Q(i),r=p[a]=c[a](i),{c(){t=C(),e=S("main"),l=S("h1"),n=P("svelte-tenor"),s=C(),o=S("div"),f=S("div");for(let d=0;d<w.length;d+=1)w[d].c();u=C(),r.c(),h=C(),v=S("footer"),m=S("p"),b=S("a"),V=P("Check out the storybook"),I=P(` \u2013
      `),D=S("a"),j=P("Back to GitHub"),this.h()},l(d){Oe('[data-svelte="svelte-1arxumj"]',document.head).forEach(k),t=M(d),e=E(d,"MAIN",{class:!0});var G=z(e);l=E(G,"H1",{class:!0});var T=z(l);n=W(T,"svelte-tenor"),T.forEach(k),s=M(G),o=E(G,"DIV",{class:!0});var L=z(o);f=E(L,"DIV",{class:!0});var ce=z(f);for(let ue=0;ue<w.length;ue+=1)w[ue].l(ce);ce.forEach(k),u=M(L),r.l(L),L.forEach(k),h=M(G),v=E(G,"FOOTER",{class:!0});var he=z(v);m=E(he,"P",{});var ie=z(m);b=E(ie,"A",{href:!0,rel:!0,class:!0});var _e=z(b);V=W(_e,"Check out the storybook"),_e.forEach(k),I=W(ie,` \u2013
      `),D=E(ie,"A",{href:!0,class:!0});var ge=z(D);j=W(ge,"Back to GitHub"),ge.forEach(k),ie.forEach(k),he.forEach(k),G.forEach(k),this.h()},h(){document.title="svelte-tenor",g(l,"class","svelte-8wq399"),g(f,"class","messages svelte-8wq399"),g(o,"class","phone svelte-8wq399"),g(b,"href","./storybook/"),g(b,"rel","external"),g(b,"class","svelte-8wq399"),g(D,"href","https://github.com/gauben/svelte-tenor"),g(D,"class","svelte-8wq399"),g(v,"class","svelte-8wq399"),g(e,"class","svelte-8wq399")},m(d,N){B(d,t,N),B(d,e,N),q(e,l),q(l,n),q(e,s),q(e,o),q(o,f);for(let G=0;G<w.length;G+=1)w[G].m(f,null);i[4](f),q(o,u),p[a].m(o,null),q(e,h),q(e,v),q(v,m),q(m,b),q(b,V),q(m,I),q(m,D),q(D,j),_=!0},p(d,[N]){if(N&1){O=d[0];let T;for(T=0;T<O.length;T+=1){const L=pe(d,O,T);w[T]?(w[T].p(L,N),R(w[T],1)):(w[T]=Se(L),w[T].c(),R(w[T],1),w[T].m(f,null))}for(te(),T=O.length;T<w.length;T+=1)y(T);le()}let G=a;a=Q(d),a===G?p[a].p(d,N):(te(),U(p[G],1,1,()=>{p[G]=null}),le(),r=p[a],r?r.p(d,N):(r=p[a]=c[a](d),r.c()),R(r,1),r.m(o,null))},i(d){if(!_){for(let N=0;N<O.length;N+=1)R(w[N]);R(r),_=!0}},o(d){w=w.filter(Boolean);for(let N=0;N<w.length;N+=1)U(w[N]);U(r),_=!1},d(d){d&&k(t),d&&k(e),Ne(w,d),i[4](null),p[a].d()}}}function tt(i,t,e){let l=[{gif:!1,body:"Hello World!"}],n=!1,s="",o;function f(b){ne[b?"unshift":"push"](()=>{o=b,e(2,o)})}function u(b){s=b,e(3,s)}const a=({detail:b})=>{e(0,l=[...l,{gif:!0,body:b}]),e(1,n=!1),e(3,s="")},r=()=>{e(1,n=!1)},h=()=>{e(1,n=!0)};function v(){s=this.value,e(3,s)}const m=()=>{!s||(e(0,l=[...l,{gif:!1,body:s}]),e(3,s=""))};return i.$$.update=()=>{i.$$.dirty&7&&Re().then(()=>{o==null||o.scrollTo({top:o.scrollHeight})})},[l,n,o,s,f,u,a,r,h,v,m]}class nt extends Y{constructor(t){super();J(this,t,tt,et,X,{})}}export{nt as default};

import{S as Y,i as J,s as X,e as q,c as E,a as z,d as m,J as se,b as h,f as B,H as b,I as K,j as Z,k as G,m as x,n as H,K as F,o as $,L as A,x as N,u as D,v as ee,M as Ee,r as te,N as ze,w as le,O as me,P as Te,l as re,Q as Ie,R as ne,T as oe,t as P,g as W,U as ae,V as fe,W as be,X as Oe,Y as Re,Z as Ne,h as Ue,_ as Ve}from"../chunks/vendor-e1ec7c32.js";const M=i=>async t=>{const e=new URL(`https://g.tenor.com/v1/${i}`);for(const[n,s]of Object.entries(t))s!==void 0&&e.searchParams.set(n,s.toString());const l=await fetch(e.toString());if(l.status>=400){const n=await l.json();throw new Error(`${n.code}: ${n.error}`)}return l.json()},ve={gifs:M("gifs"),search:M("search"),trending:M("trending"),random:M("random"),searchSuggestions:M("search_suggestions"),autocomplete:M("autocomplete"),trendingTerms:M("trending_terms"),categories:M("categories"),registerShare:M("registershare"),anonid:M("anonid")};async function Ce(i){return ve.search(i)}async function De(i){return ve.registerShare(i)}const Be=({results:i,next:t},e="medium")=>({results:i.map(({id:l,title:n,content_description:s,media:o})=>{const f={low:"nano",medium:"tiny",high:""}[e];return{id:l,description:n.length>0?n:s,width:o[0][`${f}webm`].dims[0],height:o[0][`${f}webm`].dims[1],preview:o[0][`${f}webm`].preview,mp4:o[0][`${f}mp4`].url,webm:o[0][`${f}webm`].url}}),next:t}),Ge=async({key:i,q:t,locale:e,quality:l,safety:n,ratio:s,limit:o,page:f})=>Be(await Ce({key:i,q:t,locale:e,contentfilter:n,ar_range:s,limit:o,pos:f}),l),He=async i=>De(i);function Me(i){let t,e,l,n,s;return{c(){t=q("video"),e=q("source"),n=q("source"),this.h()},l(o){t=E(o,"VIDEO",{width:!0,height:!0,poster:!0,"aria-label":!0,class:!0});var f=z(t);e=E(f,"SOURCE",{src:!0,type:!0}),n=E(f,"SOURCE",{src:!0,type:!0}),f.forEach(m),this.h()},h(){se(e.src,l=i[0])||h(e,"src",l),h(e,"type","video/webm"),se(n.src,s=i[1])||h(n,"src",s),h(n,"type","video/mp4"),t.autoplay=!0,t.loop=!0,t.muted=!0,t.playsInline=!0,h(t,"width",i[4]),h(t,"height",i[3]),h(t,"poster",i[2]),h(t,"aria-label",i[5]),h(t,"class","gif-video svelte-let0nd")},m(o,f){B(o,t,f),b(t,e),b(t,n)},p(o,[f]){f&1&&!se(e.src,l=o[0])&&h(e,"src",l),f&2&&!se(n.src,s=o[1])&&h(n,"src",s),f&16&&h(t,"width",o[4]),f&8&&h(t,"height",o[3]),f&4&&h(t,"poster",o[2]),f&32&&h(t,"aria-label",o[5])},i:K,o:K,d(o){o&&m(t)}}}function je(i,t,e){let l,n,s,o,f,u,{gif:a}=t;return i.$$set=r=>{"gif"in r&&e(6,a=r.gif)},i.$$.update=()=>{i.$$.dirty&64&&e(5,{description:l,width:n,height:s,preview:o,mp4:f,webm:u}=a,l,(e(4,n),e(6,a)),(e(3,s),e(6,a)),(e(2,o),e(6,a)),(e(1,f),e(6,a)),(e(0,u),e(6,a)))},[u,f,o,s,n,l,a]}class ye extends Y{constructor(t){super();J(this,t,je,Me,X,{gif:6})}}function ke(i,t,e){const l=i.slice();return l[7]=t[e],l}function pe(i,t){let e,l,n,s,o,f;l=new ye({props:{gif:t[7]}});function u(){return t[6](t[7])}return{key:i,first:null,c(){e=q("button"),Z(l.$$.fragment),n=G(),this.h()},l(a){e=E(a,"BUTTON",{style:!0,type:!0,class:!0});var r=z(e);x(l.$$.fragment,r),n=H(r),r.forEach(m),this.h()},h(){F(e,"grid-row-end","span "+Math.ceil(t[0]*t[7].height/t[7].width/(ue+t[1]))),h(e,"type","button"),h(e,"class","svelte-5w0eea"),this.first=e},m(a,r){B(a,e,r),$(l,e,null),b(e,n),s=!0,o||(f=A(e,"click",u),o=!0)},p(a,r){t=a;const _={};r&4&&(_.gif=t[7]),l.$set(_),(!s||r&7)&&F(e,"grid-row-end","span "+Math.ceil(t[0]*t[7].height/t[7].width/(ue+t[1])))},i(a){s||(N(l.$$.fragment,a),s=!0)},o(a){D(l.$$.fragment,a),s=!1},d(a){a&&m(e),ee(l),o=!1,f()}}}function Pe(i){let t,e=[],l=new Map,n,s,o,f=i[2];const u=a=>a[7].id;for(let a=0;a<f.length;a+=1){let r=ke(i,f,a),_=u(r);l.set(_,e[a]=pe(_,r))}return{c(){t=q("div");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){t=E(a,"DIV",{class:!0,style:!0});var r=z(t);for(let _=0;_<e.length;_+=1)e[_].l(r);r.forEach(m),this.h()},h(){h(t,"class","grid svelte-5w0eea"),F(t,"--column",i[0]+"px"),F(t,"--row",i[3]+"px"),F(t,"--gap",i[1]+"px")},m(a,r){B(a,t,r);for(let _=0;_<e.length;_+=1)e[_].m(t,null);n=!0,s||(o=Ee(i[5].call(null,t)),s=!0)},p(a,[r]){r&23&&(f=a[2],te(),e=ze(e,r,u,1,a,f,l,t,Te,pe,null,ke),le()),(!n||r&1)&&F(t,"--column",a[0]+"px"),(!n||r&8)&&F(t,"--row",a[3]+"px"),(!n||r&2)&&F(t,"--gap",a[1]+"px")},i(a){if(!n){for(let r=0;r<f.length;r+=1)N(e[r]);n=!0}},o(a){for(let r=0;r<e.length;r+=1)D(e[r]);n=!1},d(a){a&&m(t);for(let r=0;r<e.length;r+=1)e[r].d();s=!1,o()}}}const ue=8;function We(i,t,e){let{columnSize:l=160}=t,n=ue,{gap:s=8}=t,{gifs:o=[]}=t;const f=me(),u=r=>{let _=[-1,-1];const p=new ResizeObserver(()=>{if(r.offsetWidth===_[0])return;_=[_[1],r.offsetWidth];const v=window.getComputedStyle(r).getPropertyValue("grid-template-columns").split(" ").length,y=r.offsetWidth-(v-1)*s;e(3,n=y/v*(ue+s)/l-s)});return p.observe(r),{destroy(){p.unobserve(r)}}},a=r=>f("click",r);return i.$$set=r=>{"columnSize"in r&&e(0,l=r.columnSize),"gap"in r&&e(1,s=r.gap),"gifs"in r&&e(2,o=r.gifs)},[l,s,o,n,f,u,a]}class Fe extends Y{constructor(t){super();J(this,t,We,Pe,X,{columnSize:0,gap:1,gifs:2})}}function we(i){let t,e;return t=new Fe({props:{gifs:i[0],columnSize:i[1],gap:i[2]}}),t.$on("click",i[12]),{c(){Z(t.$$.fragment)},l(l){x(t.$$.fragment,l)},m(l,n){$(t,l,n),e=!0},p(l,n){const s={};n&1&&(s.gifs=l[0]),n&2&&(s.columnSize=l[1]),n&4&&(s.gap=l[2]),t.$set(s)},i(l){e||(N(t.$$.fragment,l),e=!0)},o(l){D(t.$$.fragment,l),e=!1},d(l){ee(t,l)}}}function Le(i){let t,e,l=i[0]!==void 0&&we(i);return{c(){l&&l.c(),t=re()},l(n){l&&l.l(n),t=re()},m(n,s){l&&l.m(n,s),B(n,t,s),e=!0},p(n,[s]){n[0]!==void 0?l?(l.p(n,s),s&1&&N(l,1)):(l=we(n),l.c(),N(l,1),l.m(t.parentNode,t)):l&&(te(),D(l,1,1,()=>{l=null}),le())},i(n){e||(N(l),e=!0)},o(n){D(l),e=!1},d(n){l&&l.d(n),n&&m(t)}}}function Ae(i,t,e){let{key:l}=t,{q:n}=t,{locale:s=void 0}=t,{quality:o=void 0}=t,{safety:f=void 0}=t,{ratio:u=void 0}=t,{limit:a=void 0}=t,{page:r=1}=t,{columnSize:_=void 0}=t,{gap:p=void 0}=t,{loading:v=!0}=t,{gifs:y=void 0}=t,U,I=[],V=async()=>{for(var g;I.length<r;){e(4,v=!0);let O=Ge({key:l,q:n,locale:s,quality:o,safety:f,ratio:u,limit:a,page:(g=I[I.length-1])===null||g===void 0?void 0:g.next});U=O;let w=await O;if(U!==O)return;I=[...I,w]}e(0,y=I.slice(0,r).flatMap(({results:O})=>O)),e(4,v=!1)};function j(g){Ie.call(this,i,g)}return i.$$set=g=>{"key"in g&&e(5,l=g.key),"q"in g&&e(6,n=g.q),"locale"in g&&e(7,s=g.locale),"quality"in g&&e(8,o=g.quality),"safety"in g&&e(9,f=g.safety),"ratio"in g&&e(10,u=g.ratio),"limit"in g&&e(11,a=g.limit),"page"in g&&e(3,r=g.page),"columnSize"in g&&e(1,_=g.columnSize),"gap"in g&&e(2,p=g.gap),"loading"in g&&e(4,v=g.loading),"gifs"in g&&e(0,y=g.gifs)},i.$$.update=()=>{i.$$.dirty&64&&(e(3,r=1),I=[]),i.$$.dirty&72&&V()},[y,_,p,r,v,l,n,s,o,f,u,a,j]}class Ke extends Y{constructor(t){super();J(this,t,Ae,Le,X,{key:5,q:6,locale:7,quality:8,safety:9,ratio:10,limit:11,page:3,columnSize:1,gap:2,loading:4,gifs:0})}}function Qe(i){let t,e,l,n,s,o,f,u,a,r,_,p,v,y,U,I,V;function j(k){i[15](k)}function g(k){i[16](k)}function O(k){i[17](k)}let w={key:i[4],q:i[0],locale:i[5],quality:i[6],safety:i[7],ratio:i[8],limit:i[9],columnSize:i[10],gap:i[11]};return i[1]!==void 0&&(w.page=i[1]),i[2]!==void 0&&(w.loading=i[2]),i[3]!==void 0&&(w.gifs=i[3]),u=new Ke({props:w}),ne.push(()=>oe(u,"page",j)),ne.push(()=>oe(u,"loading",g)),ne.push(()=>oe(u,"gifs",O)),u.$on("click",i[18]),{c(){t=q("div"),e=q("div"),l=q("button"),n=P("Close"),s=G(),o=q("input"),f=G(),Z(u.$$.fragment),p=G(),v=q("button"),y=P("Load more"),this.h()},l(k){t=E(k,"DIV",{class:!0});var c=z(t);e=E(c,"DIV",{class:!0});var S=z(e);l=E(S,"BUTTON",{type:!0,class:!0});var Q=z(l);n=W(Q,"Close"),Q.forEach(m),s=H(S),o=E(S,"INPUT",{type:!0,placeholder:!0,class:!0}),S.forEach(m),f=H(c),x(u.$$.fragment,c),p=H(c),v=E(c,"BUTTON",{class:!0});var d=z(v);y=W(d,"Load more"),d.forEach(m),c.forEach(m),this.h()},h(){h(l,"type","button"),h(l,"class","svelte-a0mlr3"),h(o,"type","search"),h(o,"placeholder","Search Tenor"),h(o,"class","svelte-a0mlr3"),h(e,"class","row svelte-a0mlr3"),h(v,"class","svelte-a0mlr3"),h(t,"class","keyboard")},m(k,c){B(k,t,c),b(t,e),b(e,l),b(l,n),b(e,s),b(e,o),ae(o,i[0]),b(t,f),$(u,t,null),b(t,p),b(t,v),b(v,y),U=!0,I||(V=[A(l,"click",i[13]),A(o,"input",i[14]),A(v,"click",i[19])],I=!0)},p(k,[c]){c&1&&ae(o,k[0]);const S={};c&16&&(S.key=k[4]),c&1&&(S.q=k[0]),c&32&&(S.locale=k[5]),c&64&&(S.quality=k[6]),c&128&&(S.safety=k[7]),c&256&&(S.ratio=k[8]),c&512&&(S.limit=k[9]),c&1024&&(S.columnSize=k[10]),c&2048&&(S.gap=k[11]),!a&&c&2&&(a=!0,S.page=k[1],fe(()=>a=!1)),!r&&c&4&&(r=!0,S.loading=k[2],fe(()=>r=!1)),!_&&c&8&&(_=!0,S.gifs=k[3],fe(()=>_=!1)),u.$set(S)},i(k){U||(N(u.$$.fragment,k),U=!0)},o(k){D(u.$$.fragment,k),U=!1},d(k){k&&m(t),ee(u),I=!1,be(V)}}}function Ye(i,t,e){let{key:l}=t,{q:n=""}=t,{locale:s=void 0}=t,{quality:o=void 0}=t,{safety:f=void 0}=t,{ratio:u=void 0}=t,{limit:a=void 0}=t,{page:r=1}=t,{columnSize:_=void 0}=t,{gap:p=void 0}=t,{loading:v=!0}=t,{gifs:y=void 0}=t;const U=me(),I=()=>{U("close")};function V(){n=this.value,e(0,n)}function j(c){r=c,e(1,r)}function g(c){v=c,e(2,v)}function O(c){y=c,e(3,y)}const w=async({detail:c})=>{U("click",c),He({key:l,id:c.id,q:n,locale:s})},k=()=>e(1,r++,r);return i.$$set=c=>{"key"in c&&e(4,l=c.key),"q"in c&&e(0,n=c.q),"locale"in c&&e(5,s=c.locale),"quality"in c&&e(6,o=c.quality),"safety"in c&&e(7,f=c.safety),"ratio"in c&&e(8,u=c.ratio),"limit"in c&&e(9,a=c.limit),"page"in c&&e(1,r=c.page),"columnSize"in c&&e(10,_=c.columnSize),"gap"in c&&e(11,p=c.gap),"loading"in c&&e(2,v=c.loading),"gifs"in c&&e(3,y=c.gifs)},[n,r,v,y,l,s,o,f,u,a,_,p,U,I,V,j,g,O,w,k]}class Je extends Y{constructor(t){super();J(this,t,Ye,Qe,X,{key:4,q:0,locale:5,quality:6,safety:7,ratio:8,limit:9,page:1,columnSize:10,gap:11,loading:2,gifs:3})}}function Se(i,t,e){const l=i.slice();return l[11]=t[e],l}function Xe(i){let t,e=i[11].body+"",l;return{c(){t=q("div"),l=P(e),this.h()},l(n){t=E(n,"DIV",{class:!0});var s=z(t);l=W(s,e),s.forEach(m),this.h()},h(){h(t,"class","message text svelte-1hi995f")},m(n,s){B(n,t,s),b(t,l)},p(n,s){s&1&&e!==(e=n[11].body+"")&&Ue(l,e)},i:K,o:K,d(n){n&&m(t)}}}function Ze(i){let t,e,l;return e=new ye({props:{gif:i[11].body}}),{c(){t=q("div"),Z(e.$$.fragment),this.h()},l(n){t=E(n,"DIV",{class:!0});var s=z(t);x(e.$$.fragment,s),s.forEach(m),this.h()},h(){h(t,"class","message svelte-1hi995f")},m(n,s){B(n,t,s),$(e,t,null),l=!0},p(n,s){const o={};s&1&&(o.gif=n[11].body),e.$set(o)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){n&&m(t),ee(e)}}}function qe(i){let t,e,l,n;const s=[Ze,Xe],o=[];function f(u,a){return u[11].gif?0:1}return t=f(i),e=o[t]=s[t](i),{c(){e.c(),l=re()},l(u){e.l(u),l=re()},m(u,a){o[t].m(u,a),B(u,l,a),n=!0},p(u,a){let r=t;t=f(u),t===r?o[t].p(u,a):(te(),D(o[r],1,1,()=>{o[r]=null}),le(),e=o[t],e?e.p(u,a):(e=o[t]=s[t](u),e.c()),N(e,1),e.m(l.parentNode,l))},i(u){n||(N(e),n=!0)},o(u){D(e),n=!1},d(u){o[t].d(u),u&&m(l)}}}function xe(i){let t,e,l,n,s,o,f,u,a,r;return{c(){t=q("form"),e=q("button"),l=P("GIF"),n=G(),s=q("input"),o=G(),f=q("button"),u=P("\u25B6"),this.h()},l(_){t=E(_,"FORM",{class:!0});var p=z(t);e=E(p,"BUTTON",{type:!0});var v=z(e);l=W(v,"GIF"),v.forEach(m),n=H(p),s=E(p,"INPUT",{type:!0,class:!0}),o=H(p),f=E(p,"BUTTON",{});var y=z(f);u=W(y,"\u25B6"),y.forEach(m),p.forEach(m),this.h()},h(){h(e,"type","button"),h(s,"type","text"),h(s,"class","text-input svelte-1hi995f"),h(t,"class","form svelte-1hi995f")},m(_,p){B(_,t,p),b(t,e),b(e,l),b(t,n),b(t,s),ae(s,i[3]),b(t,o),b(t,f),b(f,u),a||(r=[A(e,"click",i[8]),A(s,"input",i[9]),A(t,"submit",Ve(i[10]))],a=!0)},p(_,p){p&8&&s.value!==_[3]&&ae(s,_[3])},i:K,o:K,d(_){_&&m(t),a=!1,be(r)}}}function $e(i){let t,e,l,n;function s(f){i[5](f)}let o={key:"OY94CH1Q77WO",columnSize:140,gap:4};return i[3]!==void 0&&(o.q=i[3]),e=new Je({props:o}),ne.push(()=>oe(e,"q",s)),e.$on("click",i[6]),e.$on("close",i[7]),{c(){t=q("div"),Z(e.$$.fragment),this.h()},l(f){t=E(f,"DIV",{class:!0});var u=z(t);x(e.$$.fragment,u),u.forEach(m),this.h()},h(){h(t,"class","keyboard svelte-1hi995f")},m(f,u){B(f,t,u),$(e,t,null),n=!0},p(f,u){const a={};!l&&u&8&&(l=!0,a.q=f[3],fe(()=>l=!1)),e.$set(a)},i(f){n||(N(e.$$.fragment,f),n=!0)},o(f){D(e.$$.fragment,f),n=!1},d(f){f&&m(t),ee(e)}}}function et(i){let t,e,l,n,s,o,f,u,a,r,_,p,v,y,U,I,V,j,g,O=i[0],w=[];for(let d=0;d<O.length;d+=1)w[d]=qe(Se(i,O,d));const k=d=>D(w[d],1,1,()=>{w[d]=null}),c=[$e,xe],S=[];function Q(d,R){return d[1]?0:1}return a=Q(i),r=S[a]=c[a](i),{c(){t=G(),e=q("main"),l=q("h1"),n=P("svelte-tenor"),s=G(),o=q("div"),f=q("div");for(let d=0;d<w.length;d+=1)w[d].c();u=G(),r.c(),_=G(),p=q("footer"),v=q("p"),y=q("a"),U=P("Check out the storybook"),I=P(` \u2013
      `),V=q("a"),j=P("Back to GitHub"),this.h()},l(d){Oe('[data-svelte="svelte-1arxumj"]',document.head).forEach(m),t=H(d),e=E(d,"MAIN",{class:!0});var C=z(e);l=E(C,"H1",{class:!0});var T=z(l);n=W(T,"svelte-tenor"),T.forEach(m),s=H(C),o=E(C,"DIV",{class:!0});var L=z(o);f=E(L,"DIV",{class:!0});var he=z(f);for(let ce=0;ce<w.length;ce+=1)w[ce].l(he);he.forEach(m),u=H(L),r.l(L),L.forEach(m),_=H(C),p=E(C,"FOOTER",{class:!0});var _e=z(p);v=E(_e,"P",{});var ie=z(v);y=E(ie,"A",{href:!0,rel:!0,class:!0});var ge=z(y);U=W(ge,"Check out the storybook"),ge.forEach(m),I=W(ie,` \u2013
      `),V=E(ie,"A",{href:!0,class:!0});var de=z(V);j=W(de,"Back to GitHub"),de.forEach(m),ie.forEach(m),_e.forEach(m),C.forEach(m),this.h()},h(){document.title="svelte-tenor",h(l,"class","svelte-1hi995f"),h(f,"class","messages svelte-1hi995f"),h(o,"class","phone svelte-1hi995f"),h(y,"href","./storybook/"),h(y,"rel","external"),h(y,"class","svelte-1hi995f"),h(V,"href","https://github.com/gauben/svelte-tenor"),h(V,"class","svelte-1hi995f"),h(p,"class","svelte-1hi995f"),h(e,"class","svelte-1hi995f")},m(d,R){B(d,t,R),B(d,e,R),b(e,l),b(l,n),b(e,s),b(e,o),b(o,f);for(let C=0;C<w.length;C+=1)w[C].m(f,null);i[4](f),b(o,u),S[a].m(o,null),b(e,_),b(e,p),b(p,v),b(v,y),b(y,U),b(v,I),b(v,V),b(V,j),g=!0},p(d,[R]){if(R&1){O=d[0];let T;for(T=0;T<O.length;T+=1){const L=Se(d,O,T);w[T]?(w[T].p(L,R),N(w[T],1)):(w[T]=qe(L),w[T].c(),N(w[T],1),w[T].m(f,null))}for(te(),T=O.length;T<w.length;T+=1)k(T);le()}let C=a;a=Q(d),a===C?S[a].p(d,R):(te(),D(S[C],1,1,()=>{S[C]=null}),le(),r=S[a],r?r.p(d,R):(r=S[a]=c[a](d),r.c()),N(r,1),r.m(o,null))},i(d){if(!g){for(let R=0;R<O.length;R+=1)N(w[R]);N(r),g=!0}},o(d){w=w.filter(Boolean);for(let R=0;R<w.length;R+=1)D(w[R]);D(r),g=!1},d(d){d&&m(t),d&&m(e),Re(w,d),i[4](null),S[a].d()}}}function tt(i,t,e){let l=[{gif:!1,body:"Hello World!"}],n=!1,s="",o;function f(y){ne[y?"unshift":"push"](()=>{o=y,e(2,o)})}function u(y){s=y,e(3,s)}const a=({detail:y})=>{e(0,l=[...l,{gif:!0,body:y}]),e(1,n=!1),e(3,s="")},r=()=>{e(1,n=!1)},_=()=>{e(1,n=!0)};function p(){s=this.value,e(3,s)}const v=()=>{!s||(e(0,l=[...l,{gif:!1,body:s}]),e(3,s=""))};return i.$$.update=()=>{i.$$.dirty&7&&Ne().then(()=>{o==null||o.scrollTo({top:o.scrollHeight})})},[l,n,o,s,f,u,a,r,_,p,v]}class nt extends Y{constructor(t){super();J(this,t,tt,et,X,{})}}export{nt as default};

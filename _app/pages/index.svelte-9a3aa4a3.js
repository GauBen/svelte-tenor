import{S as Y,i as J,s as X,e as q,c as E,a as z,d as p,J as se,b as g,f as B,H as m,I as K,j as Z,k as G,m as x,n as H,K as F,o as $,L as A,x as U,u as D,v as ee,M as ze,r as te,N as Te,w as le,O as de,P as Oe,l as me,Q as Ie,R as ne,T as re,t as P,g as W,U as oe,V as ae,W as be,X as ye,Y as Re,Z as Ue,_ as Ne,h as Ve,$ as Ce}from"../chunks/vendor-89960e0a.js";const M=n=>async t=>{const e=new URL(`https://g.tenor.com/v1/${n}`);for(const[i,o]of Object.entries(t))o!==void 0&&e.searchParams.set(i,o.toString());const l=await fetch(e.toString());if(l.status>=400){const i=await l.json();throw new Error(`${i.code}: ${i.error}`)}return l.json()},ke={gifs:M("gifs"),search:M("search"),trending:M("trending"),random:M("random"),searchSuggestions:M("search_suggestions"),autocomplete:M("autocomplete"),trendingTerms:M("trending_terms"),categories:M("categories"),registerShare:M("registershare"),anonid:M("anonid")};async function De(n){return ke.search(n)}async function Be(n){return ke.registerShare(n)}const Ge=({results:n,next:t},e="medium")=>({results:n.map(({id:l,title:i,content_description:o,media:u})=>{const a={low:"nano",medium:"tiny",high:""}[e];return{id:l,description:i.length>0?i:o,width:u[0][`${a}webm`].dims[0],height:u[0][`${a}webm`].dims[1],preview:u[0][`${a}webm`].preview,mp4:u[0][`${a}mp4`].url,webm:u[0][`${a}webm`].url}}),next:t}),He=async({key:n,q:t,locale:e,quality:l,safety:i,ratio:o,limit:u,page:a})=>Ge(await De({key:n,q:t,locale:e,contentfilter:i,ar_range:o,limit:u,pos:a}),l),Me=async n=>Be(n);function je(n){let t,e,l,i,o;return{c(){t=q("video"),e=q("source"),i=q("source"),this.h()},l(u){t=E(u,"VIDEO",{width:!0,height:!0,poster:!0,"aria-label":!0,class:!0});var a=z(t);e=E(a,"SOURCE",{src:!0,type:!0}),i=E(a,"SOURCE",{src:!0,type:!0}),a.forEach(p),this.h()},h(){se(e.src,l=n[0])||g(e,"src",l),g(e,"type","video/webm"),se(i.src,o=n[1])||g(i,"src",o),g(i,"type","video/mp4"),t.autoplay=!0,t.loop=!0,t.muted=!0,t.playsInline=!0,g(t,"width",n[4]),g(t,"height",n[3]),g(t,"poster",n[2]),g(t,"aria-label",n[5]),g(t,"class","gif-video svelte-let0nd")},m(u,a){B(u,t,a),m(t,e),m(t,i)},p(u,[a]){a&1&&!se(e.src,l=u[0])&&g(e,"src",l),a&2&&!se(i.src,o=u[1])&&g(i,"src",o),a&16&&g(t,"width",u[4]),a&8&&g(t,"height",u[3]),a&4&&g(t,"poster",u[2]),a&32&&g(t,"aria-label",u[5])},i:K,o:K,d(u){u&&p(t)}}}function Pe(n,t,e){let l,i,o,u,a,c,{gif:r}=t;return n.$$set=s=>{"gif"in s&&e(6,r=s.gif)},n.$$.update=()=>{n.$$.dirty&64&&e(5,{description:l,width:i,height:o,preview:u,mp4:a,webm:c}=r,l,(e(4,i),e(6,r)),(e(3,o),e(6,r)),(e(2,u),e(6,r)),(e(1,a),e(6,r)),(e(0,c),e(6,r)))},[c,a,u,o,i,l,r]}class ve extends Y{constructor(t){super();J(this,t,Pe,je,X,{gif:6})}}function we(n,t,e){const l=n.slice();return l[7]=t[e],l}function pe(n,t){let e,l,i,o,u,a;l=new ve({props:{gif:t[7]}});function c(){return t[6](t[7])}return{key:n,first:null,c(){e=q("button"),Z(l.$$.fragment),i=G(),this.h()},l(r){e=E(r,"BUTTON",{style:!0,type:!0,class:!0});var s=z(e);x(l.$$.fragment,s),i=H(s),s.forEach(p),this.h()},h(){F(e,"grid-row-end","span "+Math.ceil(t[0]*t[7].height/t[7].width/(ue+t[1]))),g(e,"type","button"),g(e,"class","svelte-5w0eea"),this.first=e},m(r,s){B(r,e,s),$(l,e,null),m(e,i),o=!0,u||(a=A(e,"click",c),u=!0)},p(r,s){t=r;const h={};s&4&&(h.gif=t[7]),l.$set(h),(!o||s&7)&&F(e,"grid-row-end","span "+Math.ceil(t[0]*t[7].height/t[7].width/(ue+t[1])))},i(r){o||(U(l.$$.fragment,r),o=!0)},o(r){D(l.$$.fragment,r),o=!1},d(r){r&&p(e),ee(l),u=!1,a()}}}function We(n){let t,e=[],l=new Map,i,o,u,a=n[2];const c=r=>r[7].id;for(let r=0;r<a.length;r+=1){let s=we(n,a,r),h=c(s);l.set(h,e[r]=pe(h,s))}return{c(){t=q("div");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=E(r,"DIV",{class:!0,style:!0});var s=z(t);for(let h=0;h<e.length;h+=1)e[h].l(s);s.forEach(p),this.h()},h(){g(t,"class","grid svelte-5w0eea"),F(t,"--column",n[0]+"px"),F(t,"--row",n[3]+"px"),F(t,"--gap",n[1]+"px")},m(r,s){B(r,t,s);for(let h=0;h<e.length;h+=1)e[h].m(t,null);i=!0,o||(u=ze(n[5].call(null,t)),o=!0)},p(r,[s]){s&23&&(a=r[2],te(),e=Te(e,s,c,1,r,a,l,t,Oe,pe,null,we),le()),(!i||s&1)&&F(t,"--column",r[0]+"px"),(!i||s&8)&&F(t,"--row",r[3]+"px"),(!i||s&2)&&F(t,"--gap",r[1]+"px")},i(r){if(!i){for(let s=0;s<a.length;s+=1)U(e[s]);i=!0}},o(r){for(let s=0;s<e.length;s+=1)D(e[s]);i=!1},d(r){r&&p(t);for(let s=0;s<e.length;s+=1)e[s].d();o=!1,u()}}}const ue=8;function Fe(n,t,e){let{columnSize:l=160}=t,i=ue,{gap:o=8}=t,{gifs:u=[]}=t;const a=de(),c=s=>{let h=[-1,-1];const v=new ResizeObserver(()=>{if(s.offsetWidth===h[0])return;h=[h[1],s.offsetWidth];const b=window.getComputedStyle(s).getPropertyValue("grid-template-columns").split(" ").length,y=s.offsetWidth-(b-1)*o;e(3,i=y/b*(ue+o)/l-o)});return v.observe(s),{destroy(){v.unobserve(s)}}},r=s=>a("click",s);return n.$$set=s=>{"columnSize"in s&&e(0,l=s.columnSize),"gap"in s&&e(1,o=s.gap),"gifs"in s&&e(2,u=s.gifs)},[l,o,u,i,a,c,r]}class Le extends Y{constructor(t){super();J(this,t,Fe,We,X,{columnSize:0,gap:1,gifs:2})}}function Se(n){let t,e;return t=new Le({props:{gifs:n[0],columnSize:n[1],gap:n[2]}}),t.$on("click",n[12]),{c(){Z(t.$$.fragment)},l(l){x(t.$$.fragment,l)},m(l,i){$(t,l,i),e=!0},p(l,i){const o={};i&1&&(o.gifs=l[0]),i&2&&(o.columnSize=l[1]),i&4&&(o.gap=l[2]),t.$set(o)},i(l){e||(U(t.$$.fragment,l),e=!0)},o(l){D(t.$$.fragment,l),e=!1},d(l){ee(t,l)}}}function Ae(n){let t,e,l=n[0]!==void 0&&Se(n);return{c(){l&&l.c(),t=me()},l(i){l&&l.l(i),t=me()},m(i,o){l&&l.m(i,o),B(i,t,o),e=!0},p(i,[o]){i[0]!==void 0?l?(l.p(i,o),o&1&&U(l,1)):(l=Se(i),l.c(),U(l,1),l.m(t.parentNode,t)):l&&(te(),D(l,1,1,()=>{l=null}),le())},i(i){e||(U(l),e=!0)},o(i){D(l),e=!1},d(i){l&&l.d(i),i&&p(t)}}}function Ke(n,t,e){let{key:l}=t,{q:i}=t,{locale:o=void 0}=t,{quality:u=void 0}=t,{safety:a=void 0}=t,{ratio:c=void 0}=t,{limit:r=void 0}=t,{page:s=1}=t,{columnSize:h=void 0}=t,{gap:v=void 0}=t,{loading:b=!0}=t,{gifs:y=void 0}=t,N,O=[],V=async()=>{for(var _;O.length<s;){e(4,b=!0);let I=He({key:l,q:i,locale:o,quality:u,safety:a,ratio:c,limit:r,page:(_=O[O.length-1])===null||_===void 0?void 0:_.next});N=I;let w=await I;if(N!==I)return;O=[...O,w]}e(0,y=O.slice(0,s).flatMap(({results:I})=>I)),e(4,b=!1)};function j(_){Ie.call(this,n,_)}return n.$$set=_=>{"key"in _&&e(5,l=_.key),"q"in _&&e(6,i=_.q),"locale"in _&&e(7,o=_.locale),"quality"in _&&e(8,u=_.quality),"safety"in _&&e(9,a=_.safety),"ratio"in _&&e(10,c=_.ratio),"limit"in _&&e(11,r=_.limit),"page"in _&&e(3,s=_.page),"columnSize"in _&&e(1,h=_.columnSize),"gap"in _&&e(2,v=_.gap),"loading"in _&&e(4,b=_.loading),"gifs"in _&&e(0,y=_.gifs)},n.$$.update=()=>{n.$$.dirty&64&&(e(3,s=1),O=[]),n.$$.dirty&72&&V()},[y,h,v,s,b,l,i,o,u,a,c,r,j]}class Qe extends Y{constructor(t){super();J(this,t,Ke,Ae,X,{key:5,q:6,locale:7,quality:8,safety:9,ratio:10,limit:11,page:3,columnSize:1,gap:2,loading:4,gifs:0})}}function Ye(n){let t,e,l,i,o,u,a,c,r,s,h,v,b,y,N,O,V;function j(k){n[15](k)}function _(k){n[16](k)}function I(k){n[17](k)}let w={key:n[4],q:n[0],locale:n[5],quality:n[6],safety:n[7],ratio:n[8],limit:n[9],columnSize:n[10],gap:n[11]};return n[1]!==void 0&&(w.page=n[1]),n[2]!==void 0&&(w.loading=n[2]),n[3]!==void 0&&(w.gifs=n[3]),c=new Qe({props:w}),ne.push(()=>re(c,"page",j)),ne.push(()=>re(c,"loading",_)),ne.push(()=>re(c,"gifs",I)),c.$on("click",n[18]),{c(){t=q("div"),e=q("div"),l=q("button"),i=P("Close"),o=G(),u=q("input"),a=G(),Z(c.$$.fragment),v=G(),b=q("button"),y=P("Load more"),this.h()},l(k){t=E(k,"DIV",{class:!0});var f=z(t);e=E(f,"DIV",{class:!0});var S=z(e);l=E(S,"BUTTON",{type:!0,class:!0});var Q=z(l);i=W(Q,"Close"),Q.forEach(p),o=H(S),u=E(S,"INPUT",{type:!0,placeholder:!0,class:!0}),S.forEach(p),a=H(f),x(c.$$.fragment,f),v=H(f),b=E(f,"BUTTON",{class:!0});var d=z(b);y=W(d,"Load more"),d.forEach(p),f.forEach(p),this.h()},h(){g(l,"type","button"),g(l,"class","svelte-a0mlr3"),g(u,"type","search"),g(u,"placeholder","Search Tenor"),g(u,"class","svelte-a0mlr3"),g(e,"class","row svelte-a0mlr3"),g(b,"class","svelte-a0mlr3"),g(t,"class","keyboard")},m(k,f){B(k,t,f),m(t,e),m(e,l),m(l,i),m(e,o),m(e,u),oe(u,n[0]),m(t,a),$(c,t,null),m(t,v),m(t,b),m(b,y),N=!0,O||(V=[A(l,"click",n[13]),A(u,"input",n[14]),A(b,"click",n[19])],O=!0)},p(k,[f]){f&1&&oe(u,k[0]);const S={};f&16&&(S.key=k[4]),f&1&&(S.q=k[0]),f&32&&(S.locale=k[5]),f&64&&(S.quality=k[6]),f&128&&(S.safety=k[7]),f&256&&(S.ratio=k[8]),f&512&&(S.limit=k[9]),f&1024&&(S.columnSize=k[10]),f&2048&&(S.gap=k[11]),!r&&f&2&&(r=!0,S.page=k[1],ae(()=>r=!1)),!s&&f&4&&(s=!0,S.loading=k[2],ae(()=>s=!1)),!h&&f&8&&(h=!0,S.gifs=k[3],ae(()=>h=!1)),c.$set(S)},i(k){N||(U(c.$$.fragment,k),N=!0)},o(k){D(c.$$.fragment,k),N=!1},d(k){k&&p(t),ee(c),O=!1,be(V)}}}function Je(n,t,e){let{key:l}=t,{q:i=""}=t,{locale:o=void 0}=t,{quality:u=void 0}=t,{safety:a=void 0}=t,{ratio:c=void 0}=t,{limit:r=void 0}=t,{page:s=1}=t,{columnSize:h=void 0}=t,{gap:v=void 0}=t,{loading:b=!0}=t,{gifs:y=void 0}=t;const N=de(),O=()=>{N("close")};function V(){i=this.value,e(0,i)}function j(f){s=f,e(1,s)}function _(f){b=f,e(2,b)}function I(f){y=f,e(3,y)}const w=async({detail:f})=>{N("click",f),Me({key:l,id:f.id,q:i,locale:o})},k=()=>e(1,s++,s);return n.$$set=f=>{"key"in f&&e(4,l=f.key),"q"in f&&e(0,i=f.q),"locale"in f&&e(5,o=f.locale),"quality"in f&&e(6,u=f.quality),"safety"in f&&e(7,a=f.safety),"ratio"in f&&e(8,c=f.ratio),"limit"in f&&e(9,r=f.limit),"page"in f&&e(1,s=f.page),"columnSize"in f&&e(10,h=f.columnSize),"gap"in f&&e(11,v=f.gap),"loading"in f&&e(2,b=f.loading),"gifs"in f&&e(3,y=f.gifs)},[i,s,b,y,l,o,u,a,c,r,h,v,N,O,V,j,_,I,w,k]}class Xe extends Y{constructor(t){super();J(this,t,Je,Ye,X,{key:4,q:0,locale:5,quality:6,safety:7,ratio:8,limit:9,page:1,columnSize:10,gap:11,loading:2,gifs:3})}}function qe(n,t,e){const l=n.slice();return l[11]=t[e],l}function Ze(n){let t=n[11].body+"",e;return{c(){e=P(t)},l(l){e=W(l,t)},m(l,i){B(l,e,i)},p(l,i){i&1&&t!==(t=l[11].body+"")&&Ve(e,t)},i:K,o:K,d(l){l&&p(e)}}}function xe(n){let t,e;return t=new ve({props:{gif:n[11].body}}),{c(){Z(t.$$.fragment)},l(l){x(t.$$.fragment,l)},m(l,i){$(t,l,i),e=!0},p(l,i){const o={};i&1&&(o.gif=l[11].body),t.$set(o)},i(l){e||(U(t.$$.fragment,l),e=!0)},o(l){D(t.$$.fragment,l),e=!1},d(l){ee(t,l)}}}function Ee(n){let t,e,l,i,o;const u=[xe,Ze],a=[];function c(r,s){return r[11].gif?0:1}return e=c(n),l=a[e]=u[e](n),{c(){t=q("div"),l.c(),i=G(),this.h()},l(r){t=E(r,"DIV",{class:!0});var s=z(t);l.l(s),i=H(s),s.forEach(p),this.h()},h(){g(t,"class","message svelte-1owia2l"),ye(t,"text",!n[11].gif)},m(r,s){B(r,t,s),a[e].m(t,null),m(t,i),o=!0},p(r,s){let h=e;e=c(r),e===h?a[e].p(r,s):(te(),D(a[h],1,1,()=>{a[h]=null}),le(),l=a[e],l?l.p(r,s):(l=a[e]=u[e](r),l.c()),U(l,1),l.m(t,i)),s&1&&ye(t,"text",!r[11].gif)},i(r){o||(U(l),o=!0)},o(r){D(l),o=!1},d(r){r&&p(t),a[e].d()}}}function $e(n){let t,e,l,i,o,u,a,c,r,s;return{c(){t=q("form"),e=q("button"),l=P("GIF"),i=G(),o=q("input"),u=G(),a=q("button"),c=P("\u25B6"),this.h()},l(h){t=E(h,"FORM",{class:!0});var v=z(t);e=E(v,"BUTTON",{type:!0});var b=z(e);l=W(b,"GIF"),b.forEach(p),i=H(v),o=E(v,"INPUT",{type:!0,class:!0}),u=H(v),a=E(v,"BUTTON",{});var y=z(a);c=W(y,"\u25B6"),y.forEach(p),v.forEach(p),this.h()},h(){g(e,"type","button"),g(o,"type","text"),g(o,"class","text-input svelte-1owia2l"),g(t,"class","form svelte-1owia2l")},m(h,v){B(h,t,v),m(t,e),m(e,l),m(t,i),m(t,o),oe(o,n[3]),m(t,u),m(t,a),m(a,c),r||(s=[A(e,"click",n[8]),A(o,"input",n[9]),A(t,"submit",Ce(n[10]))],r=!0)},p(h,v){v&8&&o.value!==h[3]&&oe(o,h[3])},i:K,o:K,d(h){h&&p(t),r=!1,be(s)}}}function et(n){let t,e,l,i;function o(a){n[5](a)}let u={key:"OY94CH1Q77WO"};return n[3]!==void 0&&(u.q=n[3]),e=new Xe({props:u}),ne.push(()=>re(e,"q",o)),e.$on("click",n[6]),e.$on("close",n[7]),{c(){t=q("div"),Z(e.$$.fragment),this.h()},l(a){t=E(a,"DIV",{class:!0});var c=z(t);x(e.$$.fragment,c),c.forEach(p),this.h()},h(){g(t,"class","keyboard svelte-1owia2l")},m(a,c){B(a,t,c),$(e,t,null),i=!0},p(a,c){const r={};!l&&c&8&&(l=!0,r.q=a[3],ae(()=>l=!1)),e.$set(r)},i(a){i||(U(e.$$.fragment,a),i=!0)},o(a){D(e.$$.fragment,a),i=!1},d(a){a&&p(t),ee(e)}}}function tt(n){let t,e,l,i,o,u,a,c,r,s,h,v,b,y,N,O,V,j,_,I=n[0],w=[];for(let d=0;d<I.length;d+=1)w[d]=Ee(qe(n,I,d));const k=d=>D(w[d],1,1,()=>{w[d]=null}),f=[et,$e],S=[];function Q(d,R){return d[1]?0:1}return r=Q(n),s=S[r]=f[r](n),{c(){t=G(),e=q("main"),l=q("h1"),i=P("svelte-tenor"),o=G(),u=q("div"),a=q("div");for(let d=0;d<w.length;d+=1)w[d].c();c=G(),s.c(),h=G(),v=q("footer"),b=q("p"),y=q("a"),N=P("Check out the storybook"),O=P(` \u2013
      `),V=q("a"),j=P("Back to GitHub"),this.h()},l(d){Re('[data-svelte="svelte-1arxumj"]',document.head).forEach(p),t=H(d),e=E(d,"MAIN",{class:!0});var C=z(e);l=E(C,"H1",{class:!0});var T=z(l);i=W(T,"svelte-tenor"),T.forEach(p),o=H(C),u=E(C,"DIV",{class:!0});var L=z(u);a=E(L,"DIV",{class:!0});var ce=z(a);for(let fe=0;fe<w.length;fe+=1)w[fe].l(ce);ce.forEach(p),c=H(L),s.l(L),L.forEach(p),h=H(C),v=E(C,"FOOTER",{class:!0});var he=z(v);b=E(he,"P",{});var ie=z(b);y=E(ie,"A",{href:!0,rel:!0,class:!0});var ge=z(y);N=W(ge,"Check out the storybook"),ge.forEach(p),O=W(ie,` \u2013
      `),V=E(ie,"A",{href:!0,class:!0});var _e=z(V);j=W(_e,"Back to GitHub"),_e.forEach(p),ie.forEach(p),he.forEach(p),C.forEach(p),this.h()},h(){document.title="svelte-tenor",g(l,"class","svelte-1owia2l"),g(a,"class","messages svelte-1owia2l"),g(u,"class","phone svelte-1owia2l"),g(y,"href","./storybook/"),g(y,"rel","external"),g(y,"class","svelte-1owia2l"),g(V,"href","https://github.com/gauben/svelte-tenor"),g(V,"class","svelte-1owia2l"),g(v,"class","svelte-1owia2l"),g(e,"class","svelte-1owia2l")},m(d,R){B(d,t,R),B(d,e,R),m(e,l),m(l,i),m(e,o),m(e,u),m(u,a);for(let C=0;C<w.length;C+=1)w[C].m(a,null);n[4](a),m(u,c),S[r].m(u,null),m(e,h),m(e,v),m(v,b),m(b,y),m(y,N),m(b,O),m(b,V),m(V,j),_=!0},p(d,[R]){if(R&1){I=d[0];let T;for(T=0;T<I.length;T+=1){const L=qe(d,I,T);w[T]?(w[T].p(L,R),U(w[T],1)):(w[T]=Ee(L),w[T].c(),U(w[T],1),w[T].m(a,null))}for(te(),T=I.length;T<w.length;T+=1)k(T);le()}let C=r;r=Q(d),r===C?S[r].p(d,R):(te(),D(S[C],1,1,()=>{S[C]=null}),le(),s=S[r],s?s.p(d,R):(s=S[r]=f[r](d),s.c()),U(s,1),s.m(u,null))},i(d){if(!_){for(let R=0;R<I.length;R+=1)U(w[R]);U(s),_=!0}},o(d){w=w.filter(Boolean);for(let R=0;R<w.length;R+=1)D(w[R]);D(s),_=!1},d(d){d&&p(t),d&&p(e),Ue(w,d),n[4](null),S[r].d()}}}function lt(n,t,e){let l=[{gif:!1,body:"Hello World!"}],i=!1,o="",u;function a(y){ne[y?"unshift":"push"](()=>{u=y,e(2,u)})}function c(y){o=y,e(3,o)}const r=({detail:y})=>{e(0,l=[...l,{gif:!0,body:y}]),e(1,i=!1),e(3,o="")},s=()=>{e(1,i=!1)},h=()=>{e(1,i=!0)};function v(){o=this.value,e(3,o)}const b=()=>{!o||(e(0,l=[...l,{gif:!1,body:o}]),e(3,o=""))};return n.$$.update=()=>{n.$$.dirty&7&&Ne().then(()=>{u==null||u.scrollTo({top:u.scrollHeight})})},[l,i,u,o,a,c,r,s,h,v,b]}class it extends Y{constructor(t){super();J(this,t,lt,tt,X,{})}}export{it as default};

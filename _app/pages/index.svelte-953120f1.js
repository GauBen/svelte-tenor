import{S as Y,i as J,s as X,e as E,c as p,J as de,b as g,f as U,I as K,d as v,j as Z,k as C,a as T,m as x,n as M,K as F,o as $,H as w,L as A,x as R,u as D,v as ee,M as me,N as ze,r as te,O as Te,w as ne,P as be,Q as Ie,l as se,R as Oe,T as le,U as re,t as P,g as W,V as ae,W as oe,X as ke,Y as Ne,Z as Re,_ as Ve,h as De,$ as Ge}from"../chunks/vendor-1e3d8b64.js";const H=i=>async e=>{const t=new URL(`https://g.tenor.com/v1/${i}`);for(const[l,s]of Object.entries(e))s!==void 0&&t.searchParams.set(l,s.toString());const n=await fetch(t.toString());if(n.status>=400){const l=await n.json();throw new Error(`${l.code}: ${l.error}`)}return n.json()},ye={gifs:H("gifs"),search:H("search"),trending:H("trending"),random:H("random"),searchSuggestions:H("search_suggestions"),autocomplete:H("autocomplete"),trendingTerms:H("trending_terms"),categories:H("categories"),registerShare:H("registershare"),anonid:H("anonid")};async function Ue(i){return ye.search(i)}async function Be(i){return ye.registerShare(i)}const Ce=({results:i,next:e},t="medium")=>({results:i.map(({id:n,title:l,content_description:s,media:o})=>{const f={low:"nano",medium:"tiny",high:""}[t];return{id:n,description:l.length>0?l:s,width:o[0][`${f}gif`].dims[0],height:o[0][`${f}gif`].dims[1],gif:o[0][`${f}gif`].url}}),next:e}),Me=async({key:i,q:e,locale:t,quality:n,safety:l,ratio:s,limit:o,page:f})=>Ce(await Ue({key:i,q:e,locale:t,contentfilter:l,ar_range:s,limit:o,pos:f,media_filter:"basic"}),n),He=async i=>Be(i);function je(i){let e,t;return{c(){e=E("img"),this.h()},l(n){e=p(n,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),this.h()},h(){de(e.src,t=i[0])||g(e,"src",t),g(e,"alt",i[3]),g(e,"width",i[2]),g(e,"height",i[1]),g(e,"class","gif svelte-14pl11")},m(n,l){U(n,e,l)},p(n,[l]){l&1&&!de(e.src,t=n[0])&&g(e,"src",t),l&8&&g(e,"alt",n[3]),l&4&&g(e,"width",n[2]),l&2&&g(e,"height",n[1])},i:K,o:K,d(n){n&&v(e)}}}function Pe(i,e,t){let n,l,s,o,{gif:f}=e;return i.$$set=u=>{"gif"in u&&t(4,f=u.gif)},i.$$.update=()=>{i.$$.dirty&16&&t(3,{description:n,width:l,height:s,gif:o}=f,n,(t(2,l),t(4,f)),(t(1,s),t(4,f)),(t(0,o),t(4,f)))},[o,s,l,n,f]}class ve extends Y{constructor(e){super();J(this,e,Pe,je,X,{gif:4})}}function we(i,e,t){const n=i.slice();return n[8]=e[t],n}function qe(i,e){let t,n,l,s,o,f;n=new ve({props:{gif:e[8]}});function u(){return e[7](e[8])}return{key:i,first:null,c(){t=E("button"),Z(n.$$.fragment),l=C(),this.h()},l(r){t=p(r,"BUTTON",{style:!0,type:!0,class:!0});var a=T(t);x(n.$$.fragment,a),l=M(a),a.forEach(v),this.h()},h(){F(t,"grid-row-end","span "+Math.ceil(e[0]*e[8].height/e[8].width/(fe+e[1]))),g(t,"type","button"),g(t,"class","svelte-1cphx65"),this.first=t},m(r,a){U(r,t,a),$(n,t,null),w(t,l),s=!0,o||(f=A(t,"click",u),o=!0)},p(r,a){e=r;const h={};a&8&&(h.gif=e[8]),n.$set(h),(!s||a&11)&&F(t,"grid-row-end","span "+Math.ceil(e[0]*e[8].height/e[8].width/(fe+e[1])))},i(r){s||(R(n.$$.fragment,r),s=!0)},o(r){D(n.$$.fragment,r),s=!1},d(r){r&&v(t),ee(n),o=!1,f()}}}function We(i){let e,t=[],n=new Map,l,s,o,f=i[3];const u=r=>r[8].id;for(let r=0;r<f.length;r+=1){let a=we(i,f,r),h=u(a);n.set(h,t[r]=qe(h,a))}return{c(){e=E("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=p(r,"DIV",{class:!0,style:!0});var a=T(e);for(let h=0;h<t.length;h+=1)t[h].l(a);a.forEach(v),this.h()},h(){g(e,"class","grid svelte-1cphx65"),F(e,"--column",i[0]+"px"),F(e,"--row",i[4]+"px"),F(e,"--gap",i[1]+"px"),me(e,"inline",i[2])},m(r,a){U(r,e,a);for(let h=0;h<t.length;h+=1)t[h].m(e,null);l=!0,s||(o=ze(i[6].call(null,e)),s=!0)},p(r,[a]){a&43&&(f=r[3],te(),t=Te(t,a,u,1,r,f,n,e,Ie,qe,null,we),ne()),(!l||a&1)&&F(e,"--column",r[0]+"px"),(!l||a&16)&&F(e,"--row",r[4]+"px"),(!l||a&2)&&F(e,"--gap",r[1]+"px"),a&4&&me(e,"inline",r[2])},i(r){if(!l){for(let a=0;a<f.length;a+=1)R(t[a]);l=!0}},o(r){for(let a=0;a<t.length;a+=1)D(t[a]);l=!1},d(r){r&&v(e);for(let a=0;a<t.length;a+=1)t[a].d();s=!1,o()}}}const fe=8;function Fe(i,e,t){let{columnSize:n=160}=e,l=fe,{gap:s=8}=e,{inline:o=!1}=e,{gifs:f=[]}=e;const u=be(),r=h=>{let y=[-1,-1];const q=new ResizeObserver(()=>{if(h.offsetWidth===y[0])return;y=[y[1],h.offsetWidth];const m=window.getComputedStyle(h).getPropertyValue("grid-template-columns").split(" ").length,I=h.offsetWidth-(m-1)*s;t(4,l=I/m*(fe+s)/n-s)});return q.observe(h),{destroy(){q.unobserve(h)}}},a=h=>u("click",h);return i.$$set=h=>{"columnSize"in h&&t(0,n=h.columnSize),"gap"in h&&t(1,s=h.gap),"inline"in h&&t(2,o=h.inline),"gifs"in h&&t(3,f=h.gifs)},[n,s,o,f,l,u,r,a]}class Le extends Y{constructor(e){super();J(this,e,Fe,We,X,{columnSize:0,gap:1,inline:2,gifs:3})}}function Se(i){let e,t;return e=new Le({props:{gifs:i[0],columnSize:i[1],gap:i[2],inline:i[3]}}),e.$on("click",i[13]),{c(){Z(e.$$.fragment)},l(n){x(e.$$.fragment,n)},m(n,l){$(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.gifs=n[0]),l&2&&(s.columnSize=n[1]),l&4&&(s.gap=n[2]),l&8&&(s.inline=n[3]),e.$set(s)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function Ae(i){let e,t,n=i[0]!==void 0&&Se(i);return{c(){n&&n.c(),e=se()},l(l){n&&n.l(l),e=se()},m(l,s){n&&n.m(l,s),U(l,e,s),t=!0},p(l,[s]){l[0]!==void 0?n?(n.p(l,s),s&1&&R(n,1)):(n=Se(l),n.c(),R(n,1),n.m(e.parentNode,e)):n&&(te(),D(n,1,1,()=>{n=null}),ne())},i(l){t||(R(n),t=!0)},o(l){D(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Ke(i,e,t){let{key:n}=e,{q:l}=e,{locale:s=void 0}=e,{quality:o=void 0}=e,{safety:f=void 0}=e,{ratio:u=void 0}=e,{limit:r=void 0}=e,{page:a=1}=e,{columnSize:h=void 0}=e,{gap:y=void 0}=e,{inline:q=void 0}=e,{loading:m=!0}=e,{gifs:I=void 0}=e,G,z=[],j=async()=>{for(var _;z.length<a;){t(5,m=!0);let d=Me({key:n,q:l,locale:s,quality:o,safety:f,ratio:u,limit:r,page:(_=z[z.length-1])===null||_===void 0?void 0:_.next});G=d;let b=await d;if(G!==d)return;z=[...z,b]}t(0,I=z.slice(0,a).flatMap(({results:d})=>d)),t(5,m=!1)};function B(_){Oe.call(this,i,_)}return i.$$set=_=>{"key"in _&&t(6,n=_.key),"q"in _&&t(7,l=_.q),"locale"in _&&t(8,s=_.locale),"quality"in _&&t(9,o=_.quality),"safety"in _&&t(10,f=_.safety),"ratio"in _&&t(11,u=_.ratio),"limit"in _&&t(12,r=_.limit),"page"in _&&t(4,a=_.page),"columnSize"in _&&t(1,h=_.columnSize),"gap"in _&&t(2,y=_.gap),"inline"in _&&t(3,q=_.inline),"loading"in _&&t(5,m=_.loading),"gifs"in _&&t(0,I=_.gifs)},i.$$.update=()=>{i.$$.dirty&128&&(t(4,a=1),z=[]),i.$$.dirty&144&&j()},[I,h,y,q,a,m,n,l,s,o,f,u,r,B]}class Qe extends Y{constructor(e){super();J(this,e,Ke,Ae,X,{key:6,q:7,locale:8,quality:9,safety:10,ratio:11,limit:12,page:4,columnSize:1,gap:2,inline:3,loading:5,gifs:0})}}function Ye(i){let e,t,n,l,s,o,f,u,r,a,h,y,q,m,I,G,z;function j(b){i[15](b)}function B(b){i[16](b)}function _(b){i[17](b)}let d={key:i[4],q:i[0],locale:i[5],quality:i[6],safety:i[7],ratio:i[8],limit:i[9],columnSize:i[10],gap:i[11]};return i[1]!==void 0&&(d.page=i[1]),i[2]!==void 0&&(d.loading=i[2]),i[3]!==void 0&&(d.gifs=i[3]),u=new Qe({props:d}),le.push(()=>re(u,"page",j)),le.push(()=>re(u,"loading",B)),le.push(()=>re(u,"gifs",_)),u.$on("click",i[18]),{c(){e=E("div"),t=E("div"),n=E("button"),l=P("Close"),s=C(),o=E("input"),f=C(),Z(u.$$.fragment),y=C(),q=E("button"),m=P("Load more"),this.h()},l(b){e=p(b,"DIV",{class:!0});var c=T(e);t=p(c,"DIV",{class:!0});var S=T(t);n=p(S,"BUTTON",{type:!0,class:!0});var Q=T(n);l=W(Q,"Close"),Q.forEach(v),s=M(S),o=p(S,"INPUT",{type:!0,placeholder:!0,class:!0}),S.forEach(v),f=M(c),x(u.$$.fragment,c),y=M(c),q=p(c,"BUTTON",{class:!0});var k=T(q);m=W(k,"Load more"),k.forEach(v),c.forEach(v),this.h()},h(){g(n,"type","button"),g(n,"class","svelte-a0mlr3"),g(o,"type","search"),g(o,"placeholder","Search Tenor"),g(o,"class","svelte-a0mlr3"),g(t,"class","row svelte-a0mlr3"),g(q,"class","svelte-a0mlr3"),g(e,"class","keyboard")},m(b,c){U(b,e,c),w(e,t),w(t,n),w(n,l),w(t,s),w(t,o),ae(o,i[0]),w(e,f),$(u,e,null),w(e,y),w(e,q),w(q,m),I=!0,G||(z=[A(n,"click",i[13]),A(o,"input",i[14]),A(q,"click",i[19])],G=!0)},p(b,[c]){c&1&&ae(o,b[0]);const S={};c&16&&(S.key=b[4]),c&1&&(S.q=b[0]),c&32&&(S.locale=b[5]),c&64&&(S.quality=b[6]),c&128&&(S.safety=b[7]),c&256&&(S.ratio=b[8]),c&512&&(S.limit=b[9]),c&1024&&(S.columnSize=b[10]),c&2048&&(S.gap=b[11]),!r&&c&2&&(r=!0,S.page=b[1],oe(()=>r=!1)),!a&&c&4&&(a=!0,S.loading=b[2],oe(()=>a=!1)),!h&&c&8&&(h=!0,S.gifs=b[3],oe(()=>h=!1)),u.$set(S)},i(b){I||(R(u.$$.fragment,b),I=!0)},o(b){D(u.$$.fragment,b),I=!1},d(b){b&&v(e),ee(u),G=!1,ke(z)}}}function Je(i,e,t){let{key:n}=e,{q:l=""}=e,{locale:s=void 0}=e,{quality:o=void 0}=e,{safety:f=void 0}=e,{ratio:u=void 0}=e,{limit:r=void 0}=e,{page:a=1}=e,{columnSize:h=void 0}=e,{gap:y=void 0}=e,{loading:q=!0}=e,{gifs:m=void 0}=e;const I=be(),G=()=>{I("close")};function z(){l=this.value,t(0,l)}function j(c){a=c,t(1,a)}function B(c){q=c,t(2,q)}function _(c){m=c,t(3,m)}const d=async({detail:c})=>{I("click",c),He({key:n,id:c.id,q:l,locale:s})},b=()=>t(1,a++,a);return i.$$set=c=>{"key"in c&&t(4,n=c.key),"q"in c&&t(0,l=c.q),"locale"in c&&t(5,s=c.locale),"quality"in c&&t(6,o=c.quality),"safety"in c&&t(7,f=c.safety),"ratio"in c&&t(8,u=c.ratio),"limit"in c&&t(9,r=c.limit),"page"in c&&t(1,a=c.page),"columnSize"in c&&t(10,h=c.columnSize),"gap"in c&&t(11,y=c.gap),"loading"in c&&t(2,q=c.loading),"gifs"in c&&t(3,m=c.gifs)},[l,a,q,m,n,s,o,f,u,r,h,y,I,G,z,j,B,_,d,b]}class Xe extends Y{constructor(e){super();J(this,e,Je,Ye,X,{key:4,q:0,locale:5,quality:6,safety:7,ratio:8,limit:9,page:1,columnSize:10,gap:11,loading:2,gifs:3})}}function Ee(i,e,t){const n=i.slice();return n[11]=e[t],n}function Ze(i){let e,t=i[11].body+"",n;return{c(){e=E("div"),n=P(t),this.h()},l(l){e=p(l,"DIV",{class:!0});var s=T(e);n=W(s,t),s.forEach(v),this.h()},h(){g(e,"class","message text svelte-8wq399")},m(l,s){U(l,e,s),w(e,n)},p(l,s){s&1&&t!==(t=l[11].body+"")&&De(n,t)},i:K,o:K,d(l){l&&v(e)}}}function xe(i){let e,t,n;return t=new ve({props:{gif:i[11].body}}),{c(){e=E("div"),Z(t.$$.fragment),this.h()},l(l){e=p(l,"DIV",{class:!0});var s=T(e);x(t.$$.fragment,s),s.forEach(v),this.h()},h(){g(e,"class","message svelte-8wq399")},m(l,s){U(l,e,s),$(t,e,null),n=!0},p(l,s){const o={};s&1&&(o.gif=l[11].body),t.$set(o)},i(l){n||(R(t.$$.fragment,l),n=!0)},o(l){D(t.$$.fragment,l),n=!1},d(l){l&&v(e),ee(t)}}}function pe(i){let e,t,n,l;const s=[xe,Ze],o=[];function f(u,r){return u[11].gif?0:1}return e=f(i),t=o[e]=s[e](i),{c(){t.c(),n=se()},l(u){t.l(u),n=se()},m(u,r){o[e].m(u,r),U(u,n,r),l=!0},p(u,r){let a=e;e=f(u),e===a?o[e].p(u,r):(te(),D(o[a],1,1,()=>{o[a]=null}),ne(),t=o[e],t?t.p(u,r):(t=o[e]=s[e](u),t.c()),R(t,1),t.m(n.parentNode,n))},i(u){l||(R(t),l=!0)},o(u){D(t),l=!1},d(u){o[e].d(u),u&&v(n)}}}function $e(i){let e,t,n,l,s,o,f,u,r,a;return{c(){e=E("form"),t=E("button"),n=P("GIF"),l=C(),s=E("input"),o=C(),f=E("button"),u=P("\u25B6"),this.h()},l(h){e=p(h,"FORM",{class:!0});var y=T(e);t=p(y,"BUTTON",{type:!0});var q=T(t);n=W(q,"GIF"),q.forEach(v),l=M(y),s=p(y,"INPUT",{type:!0,class:!0}),o=M(y),f=p(y,"BUTTON",{});var m=T(f);u=W(m,"\u25B6"),m.forEach(v),y.forEach(v),this.h()},h(){g(t,"type","button"),g(s,"type","text"),g(s,"class","text-input svelte-8wq399"),g(e,"class","form svelte-8wq399")},m(h,y){U(h,e,y),w(e,t),w(t,n),w(e,l),w(e,s),ae(s,i[3]),w(e,o),w(e,f),w(f,u),r||(a=[A(t,"click",i[8]),A(s,"input",i[9]),A(e,"submit",Ge(i[10]))],r=!0)},p(h,y){y&8&&s.value!==h[3]&&ae(s,h[3])},i:K,o:K,d(h){h&&v(e),r=!1,ke(a)}}}function et(i){let e,t,n,l;function s(f){i[5](f)}let o={key:"OY94CH1Q77WO",columnSize:140,gap:4};return i[3]!==void 0&&(o.q=i[3]),t=new Xe({props:o}),le.push(()=>re(t,"q",s)),t.$on("click",i[6]),t.$on("close",i[7]),{c(){e=E("div"),Z(t.$$.fragment),this.h()},l(f){e=p(f,"DIV",{class:!0});var u=T(e);x(t.$$.fragment,u),u.forEach(v),this.h()},h(){g(e,"class","keyboard svelte-8wq399")},m(f,u){U(f,e,u),$(t,e,null),l=!0},p(f,u){const r={};!n&&u&8&&(n=!0,r.q=f[3],oe(()=>n=!1)),t.$set(r)},i(f){l||(R(t.$$.fragment,f),l=!0)},o(f){D(t.$$.fragment,f),l=!1},d(f){f&&v(e),ee(t)}}}function tt(i){let e,t,n,l,s,o,f,u,r,a,h,y,q,m,I,G,z,j,B,_=i[0],d=[];for(let k=0;k<_.length;k+=1)d[k]=pe(Ee(i,_,k));const b=k=>D(d[k],1,1,()=>{d[k]=null}),c=[et,$e],S=[];function Q(k,N){return k[1]?0:1}return r=Q(i),a=S[r]=c[r](i),{c(){e=C(),t=E("main"),n=E("h1"),l=P("svelte-tenor"),s=C(),o=E("div"),f=E("div");for(let k=0;k<d.length;k+=1)d[k].c();u=C(),a.c(),h=C(),y=E("footer"),q=E("p"),m=E("a"),I=P("Check out the storybook"),G=P(` \u2013
      `),z=E("a"),j=P("Back to GitHub"),this.h()},l(k){Ne('[data-svelte="svelte-1arxumj"]',document.head).forEach(v),e=M(k),t=p(k,"MAIN",{class:!0});var V=T(t);n=p(V,"H1",{class:!0});var O=T(n);l=W(O,"svelte-tenor"),O.forEach(v),s=M(V),o=p(V,"DIV",{class:!0});var L=T(o);f=p(L,"DIV",{class:!0});var ce=T(f);for(let ue=0;ue<d.length;ue+=1)d[ue].l(ce);ce.forEach(v),u=M(L),a.l(L),L.forEach(v),h=M(V),y=p(V,"FOOTER",{class:!0});var he=T(y);q=p(he,"P",{});var ie=T(q);m=p(ie,"A",{href:!0,rel:!0,class:!0});var _e=T(m);I=W(_e,"Check out the storybook"),_e.forEach(v),G=W(ie,` \u2013
      `),z=p(ie,"A",{href:!0,class:!0});var ge=T(z);j=W(ge,"Back to GitHub"),ge.forEach(v),ie.forEach(v),he.forEach(v),V.forEach(v),this.h()},h(){document.title="svelte-tenor",g(n,"class","svelte-8wq399"),g(f,"class","messages svelte-8wq399"),g(o,"class","phone svelte-8wq399"),g(m,"href","./storybook/"),g(m,"rel","external"),g(m,"class","svelte-8wq399"),g(z,"href","https://github.com/gauben/svelte-tenor"),g(z,"class","svelte-8wq399"),g(y,"class","svelte-8wq399"),g(t,"class","svelte-8wq399")},m(k,N){U(k,e,N),U(k,t,N),w(t,n),w(n,l),w(t,s),w(t,o),w(o,f);for(let V=0;V<d.length;V+=1)d[V].m(f,null);i[4](f),w(o,u),S[r].m(o,null),w(t,h),w(t,y),w(y,q),w(q,m),w(m,I),w(q,G),w(q,z),w(z,j),B=!0},p(k,[N]){if(N&1){_=k[0];let O;for(O=0;O<_.length;O+=1){const L=Ee(k,_,O);d[O]?(d[O].p(L,N),R(d[O],1)):(d[O]=pe(L),d[O].c(),R(d[O],1),d[O].m(f,null))}for(te(),O=_.length;O<d.length;O+=1)b(O);ne()}let V=r;r=Q(k),r===V?S[r].p(k,N):(te(),D(S[V],1,1,()=>{S[V]=null}),ne(),a=S[r],a?a.p(k,N):(a=S[r]=c[r](k),a.c()),R(a,1),a.m(o,null))},i(k){if(!B){for(let N=0;N<_.length;N+=1)R(d[N]);R(a),B=!0}},o(k){d=d.filter(Boolean);for(let N=0;N<d.length;N+=1)D(d[N]);D(a),B=!1},d(k){k&&v(e),k&&v(t),Re(d,k),i[4](null),S[r].d()}}}function nt(i,e,t){let n=[{gif:!1,body:"Hello World!"}],l=!1,s="",o;function f(m){le[m?"unshift":"push"](()=>{o=m,t(2,o)})}function u(m){s=m,t(3,s)}const r=({detail:m})=>{t(0,n=[...n,{gif:!0,body:m}]),t(1,l=!1),t(3,s="")},a=()=>{t(1,l=!1)},h=()=>{t(1,l=!0)};function y(){s=this.value,t(3,s)}const q=()=>{!s||(t(0,n=[...n,{gif:!1,body:s}]),t(3,s=""))};return i.$$.update=()=>{i.$$.dirty&7&&Ve().then(()=>{o==null||o.scrollTo({top:o.scrollHeight})})},[n,l,o,s,f,u,r,a,h,y,q]}class it extends Y{constructor(e){super();J(this,e,nt,tt,X,{})}}export{it as default};

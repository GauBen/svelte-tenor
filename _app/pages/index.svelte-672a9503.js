import{S as A,i as K,s as Q,e as S,c as q,a as E,d as k,J as te,b as d,f as D,H as w,I as L,j as Y,k as M,m as J,n as j,K as G,o as X,L as W,x as R,u as V,v as Z,M as pe,r as x,N as Se,w as $,O as ce,P as qe,l as he,Q as ze,R as ee,T as ne,t as H,g as F,U as le,V as ie,W as de,X as ge,Y as Ee,Z as Te,_ as Oe,h as Ie,$ as Re}from"../chunks/vendor-89960e0a.js";const B=l=>async t=>{const e=new URL(`https://g.tenor.com/v1/${l}`);for(const[i,a]of Object.entries(t))a!==void 0&&e.searchParams.set(i,a.toString());const n=await fetch(e.toString());if(n.status>=400){const i=await n.json();throw new Error(`${i.code}: ${i.error}`)}return n.json()},_e={gifs:B("gifs"),search:B("search"),trending:B("trending"),random:B("random"),searchSuggestions:B("search_suggestions"),autocomplete:B("autocomplete"),trendingTerms:B("trending_terms"),categories:B("categories"),registerShare:B("registershare"),anonid:B("anonid")};async function Ue(l){return _e.search(l)}async function Ne(l){return _e.registerShare(l)}const Ve=({results:l,next:t},e="medium")=>({results:l.map(({id:n,title:i,content_description:a,media:f})=>{const u={low:"nano",medium:"tiny",high:""}[e];return{id:n,description:i.length>0?i:a,width:f[0][`${u}webm`].dims[0],height:f[0][`${u}webm`].dims[1],preview:f[0][`${u}webm`].preview,mp4:f[0][`${u}mp4`].url,webm:f[0][`${u}webm`].url}}),next:t}),Ce=async({key:l,q:t,locale:e,quality:n,safety:i,ratio:a,limit:f,page:u})=>Ve(await Ue({key:l,q:t,locale:e,contentfilter:i,ar_range:a,limit:f,pos:u}),n),De=async l=>Ne(l);function Me(l){let t,e,n,i,a;return{c(){t=S("video"),e=S("source"),i=S("source"),this.h()},l(f){t=q(f,"VIDEO",{width:!0,height:!0,poster:!0,"aria-label":!0,class:!0});var u=E(t);e=q(u,"SOURCE",{src:!0,type:!0}),i=q(u,"SOURCE",{src:!0,type:!0}),u.forEach(k),this.h()},h(){te(e.src,n=l[0])||d(e,"src",n),d(e,"type","video/webm"),te(i.src,a=l[1])||d(i,"src",a),d(i,"type","video/mp4"),t.autoplay=!0,t.loop=!0,t.muted=!0,t.playsInline=!0,d(t,"width",l[4]),d(t,"height",l[3]),d(t,"poster",l[2]),d(t,"aria-label",l[5]),d(t,"class","gif-video svelte-let0nd")},m(f,u){D(f,t,u),w(t,e),w(t,i)},p(f,[u]){u&1&&!te(e.src,n=f[0])&&d(e,"src",n),u&2&&!te(i.src,a=f[1])&&d(i,"src",a),u&16&&d(t,"width",f[4]),u&8&&d(t,"height",f[3]),u&4&&d(t,"poster",f[2]),u&32&&d(t,"aria-label",f[5])},i:L,o:L,d(f){f&&k(t)}}}function je(l,t,e){let n,i,a,f,u,c,{gif:r}=t;return l.$$set=s=>{"gif"in s&&e(6,r=s.gif)},l.$$.update=()=>{l.$$.dirty&64&&e(5,{description:n,width:i,height:a,preview:f,mp4:u,webm:c}=r,n,(e(4,i),e(6,r)),(e(3,a),e(6,r)),(e(2,f),e(6,r)),(e(1,u),e(6,r)),(e(0,c),e(6,r)))},[c,u,f,a,i,n,r]}class me extends A{constructor(t){super();K(this,t,je,Me,Q,{gif:6})}}function be(l,t,e){const n=l.slice();return n[7]=t[e],n}function ve(l,t){let e,n,i,a,f,u;n=new me({props:{gif:t[7]}});function c(){return t[6](t[7])}return{key:l,first:null,c(){e=S("button"),Y(n.$$.fragment),i=M(),this.h()},l(r){e=q(r,"BUTTON",{style:!0,type:!0,class:!0});var s=E(e);J(n.$$.fragment,s),i=j(s),s.forEach(k),this.h()},h(){G(e,"grid-row-end","span "+Math.ceil(t[0]*t[7].height/t[7].width/(se+t[1]))),d(e,"type","button"),d(e,"class","svelte-5w0eea"),this.first=e},m(r,s){D(r,e,s),X(n,e,null),w(e,i),a=!0,f||(u=W(e,"click",c),f=!0)},p(r,s){t=r;const h={};s&4&&(h.gif=t[7]),n.$set(h),(!a||s&7)&&G(e,"grid-row-end","span "+Math.ceil(t[0]*t[7].height/t[7].width/(se+t[1])))},i(r){a||(R(n.$$.fragment,r),a=!0)},o(r){V(n.$$.fragment,r),a=!1},d(r){r&&k(e),Z(n),f=!1,u()}}}function Be(l){let t,e=[],n=new Map,i,a,f,u=l[2];const c=r=>r[7].id;for(let r=0;r<u.length;r+=1){let s=be(l,u,r),h=c(s);n.set(h,e[r]=ve(h,s))}return{c(){t=S("div");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=q(r,"DIV",{class:!0,style:!0});var s=E(t);for(let h=0;h<e.length;h+=1)e[h].l(s);s.forEach(k),this.h()},h(){d(t,"class","grid svelte-5w0eea"),G(t,"--column",l[0]+"px"),G(t,"--row",l[3]+"px"),G(t,"--gap",l[1]+"px")},m(r,s){D(r,t,s);for(let h=0;h<e.length;h+=1)e[h].m(t,null);i=!0,a||(f=pe(l[5].call(null,t)),a=!0)},p(r,[s]){s&23&&(u=r[2],x(),e=Se(e,s,c,1,r,u,n,t,qe,ve,null,be),$()),(!i||s&1)&&G(t,"--column",r[0]+"px"),(!i||s&8)&&G(t,"--row",r[3]+"px"),(!i||s&2)&&G(t,"--gap",r[1]+"px")},i(r){if(!i){for(let s=0;s<u.length;s+=1)R(e[s]);i=!0}},o(r){for(let s=0;s<e.length;s+=1)V(e[s]);i=!1},d(r){r&&k(t);for(let s=0;s<e.length;s+=1)e[s].d();a=!1,f()}}}const se=8;function Ge(l,t,e){let{columnSize:n=160}=t,i=se,{gap:a=8}=t,{gifs:f=[]}=t;const u=ce(),c=s=>{let h=[-1,-1];const v=new ResizeObserver(()=>{if(s.offsetWidth===h[0])return;h=[h[1],s.offsetWidth];const y=window.getComputedStyle(s).getPropertyValue("grid-template-columns").split(" ").length,b=s.offsetWidth-(y-1)*a;e(3,i=b/y*(se+a)/n-a)});return v.observe(s),{destroy(){v.unobserve(s)}}},r=s=>u("click",s);return l.$$set=s=>{"columnSize"in s&&e(0,n=s.columnSize),"gap"in s&&e(1,a=s.gap),"gifs"in s&&e(2,f=s.gifs)},[n,a,f,i,u,c,r]}class Pe extends A{constructor(t){super();K(this,t,Ge,Be,Q,{columnSize:0,gap:1,gifs:2})}}function ye(l){let t,e;return t=new Pe({props:{gifs:l[0],columnSize:l[1],gap:l[2]}}),t.$on("click",l[12]),{c(){Y(t.$$.fragment)},l(n){J(t.$$.fragment,n)},m(n,i){X(t,n,i),e=!0},p(n,i){const a={};i&1&&(a.gifs=n[0]),i&2&&(a.columnSize=n[1]),i&4&&(a.gap=n[2]),t.$set(a)},i(n){e||(R(t.$$.fragment,n),e=!0)},o(n){V(t.$$.fragment,n),e=!1},d(n){Z(t,n)}}}function We(l){let t,e,n=l[0]!==void 0&&ye(l);return{c(){n&&n.c(),t=he()},l(i){n&&n.l(i),t=he()},m(i,a){n&&n.m(i,a),D(i,t,a),e=!0},p(i,[a]){i[0]!==void 0?n?(n.p(i,a),a&1&&R(n,1)):(n=ye(i),n.c(),R(n,1),n.m(t.parentNode,t)):n&&(x(),V(n,1,1,()=>{n=null}),$())},i(i){e||(R(n),e=!0)},o(i){V(n),e=!1},d(i){n&&n.d(i),i&&k(t)}}}function He(l,t,e){let{key:n}=t,{q:i}=t,{locale:a=void 0}=t,{quality:f=void 0}=t,{safety:u=void 0}=t,{ratio:c=void 0}=t,{limit:r=void 0}=t,{page:s=1}=t,{columnSize:h=void 0}=t,{gap:v=void 0}=t,{loading:y=!0}=t,{gifs:b=void 0}=t,U,T=[],N=async()=>{for(var g;T.length<s;){e(4,y=!0);let C=Ce({key:n,q:i,locale:a,quality:f,safety:u,ratio:c,limit:r,page:(g=T[T.length-1])===null||g===void 0?void 0:g.next});U=C;let O=await C;if(U!==C)return;T=[...T,O]}e(0,b=T.slice(0,s).flatMap(({results:C})=>C)),e(4,y=!1)};function p(g){ze.call(this,l,g)}return l.$$set=g=>{"key"in g&&e(5,n=g.key),"q"in g&&e(6,i=g.q),"locale"in g&&e(7,a=g.locale),"quality"in g&&e(8,f=g.quality),"safety"in g&&e(9,u=g.safety),"ratio"in g&&e(10,c=g.ratio),"limit"in g&&e(11,r=g.limit),"page"in g&&e(3,s=g.page),"columnSize"in g&&e(1,h=g.columnSize),"gap"in g&&e(2,v=g.gap),"loading"in g&&e(4,y=g.loading),"gifs"in g&&e(0,b=g.gifs)},l.$$.update=()=>{l.$$.dirty&64&&(e(3,s=1),T=[]),l.$$.dirty&72&&N()},[b,h,v,s,y,n,i,a,f,u,c,r,p]}class Fe extends A{constructor(t){super();K(this,t,He,We,Q,{key:5,q:6,locale:7,quality:8,safety:9,ratio:10,limit:11,page:3,columnSize:1,gap:2,loading:4,gifs:0})}}function Le(l){let t,e,n,i,a,f,u,c,r,s,h,v,y,b,U,T,N;function p(m){l[15](m)}function g(m){l[16](m)}function C(m){l[17](m)}let O={key:l[4],q:l[0],locale:l[5],quality:l[6],safety:l[7],ratio:l[8],limit:l[9],columnSize:l[10],gap:l[11]};return l[1]!==void 0&&(O.page=l[1]),l[2]!==void 0&&(O.loading=l[2]),l[3]!==void 0&&(O.gifs=l[3]),c=new Fe({props:O}),ee.push(()=>ne(c,"page",p)),ee.push(()=>ne(c,"loading",g)),ee.push(()=>ne(c,"gifs",C)),c.$on("click",l[18]),{c(){t=S("div"),e=S("div"),n=S("button"),i=H("Close"),a=M(),f=S("input"),u=M(),Y(c.$$.fragment),v=M(),y=S("button"),b=H("Load more"),this.h()},l(m){t=q(m,"DIV",{class:!0});var o=E(t);e=q(o,"DIV",{class:!0});var _=E(e);n=q(_,"BUTTON",{type:!0,class:!0});var I=E(n);i=F(I,"Close"),I.forEach(k),a=j(_),f=q(_,"INPUT",{type:!0,placeholder:!0,class:!0}),_.forEach(k),u=j(o),J(c.$$.fragment,o),v=j(o),y=q(o,"BUTTON",{class:!0});var z=E(y);b=F(z,"Load more"),z.forEach(k),o.forEach(k),this.h()},h(){d(n,"type","button"),d(n,"class","svelte-a0mlr3"),d(f,"type","search"),d(f,"placeholder","Search Tenor"),d(f,"class","svelte-a0mlr3"),d(e,"class","row svelte-a0mlr3"),d(y,"class","svelte-a0mlr3"),d(t,"class","keyboard")},m(m,o){D(m,t,o),w(t,e),w(e,n),w(n,i),w(e,a),w(e,f),le(f,l[0]),w(t,u),X(c,t,null),w(t,v),w(t,y),w(y,b),U=!0,T||(N=[W(n,"click",l[13]),W(f,"input",l[14]),W(y,"click",l[19])],T=!0)},p(m,[o]){o&1&&le(f,m[0]);const _={};o&16&&(_.key=m[4]),o&1&&(_.q=m[0]),o&32&&(_.locale=m[5]),o&64&&(_.quality=m[6]),o&128&&(_.safety=m[7]),o&256&&(_.ratio=m[8]),o&512&&(_.limit=m[9]),o&1024&&(_.columnSize=m[10]),o&2048&&(_.gap=m[11]),!r&&o&2&&(r=!0,_.page=m[1],ie(()=>r=!1)),!s&&o&4&&(s=!0,_.loading=m[2],ie(()=>s=!1)),!h&&o&8&&(h=!0,_.gifs=m[3],ie(()=>h=!1)),c.$set(_)},i(m){U||(R(c.$$.fragment,m),U=!0)},o(m){V(c.$$.fragment,m),U=!1},d(m){m&&k(t),Z(c),T=!1,de(N)}}}function Ae(l,t,e){let{key:n}=t,{q:i=""}=t,{locale:a=void 0}=t,{quality:f=void 0}=t,{safety:u=void 0}=t,{ratio:c=void 0}=t,{limit:r=void 0}=t,{page:s=1}=t,{columnSize:h=void 0}=t,{gap:v=void 0}=t,{loading:y=!0}=t,{gifs:b=void 0}=t;const U=ce(),T=()=>{U("close")};function N(){i=this.value,e(0,i)}function p(o){s=o,e(1,s)}function g(o){y=o,e(2,y)}function C(o){b=o,e(3,b)}const O=async({detail:o})=>{U("click",o),De({key:n,id:o.id,q:i,locale:a})},m=()=>e(1,s++,s);return l.$$set=o=>{"key"in o&&e(4,n=o.key),"q"in o&&e(0,i=o.q),"locale"in o&&e(5,a=o.locale),"quality"in o&&e(6,f=o.quality),"safety"in o&&e(7,u=o.safety),"ratio"in o&&e(8,c=o.ratio),"limit"in o&&e(9,r=o.limit),"page"in o&&e(1,s=o.page),"columnSize"in o&&e(10,h=o.columnSize),"gap"in o&&e(11,v=o.gap),"loading"in o&&e(2,y=o.loading),"gifs"in o&&e(3,b=o.gifs)},[i,s,y,b,n,a,f,u,c,r,h,v,U,T,N,p,g,C,O,m]}class Ke extends A{constructor(t){super();K(this,t,Ae,Le,Q,{key:4,q:0,locale:5,quality:6,safety:7,ratio:8,limit:9,page:1,columnSize:10,gap:11,loading:2,gifs:3})}}function ke(l,t,e){const n=l.slice();return n[11]=t[e],n}function Qe(l){let t=l[11].body+"",e;return{c(){e=H(t)},l(n){e=F(n,t)},m(n,i){D(n,e,i)},p(n,i){i&1&&t!==(t=n[11].body+"")&&Ie(e,t)},i:L,o:L,d(n){n&&k(e)}}}function Ye(l){let t,e;return t=new me({props:{gif:l[11].body}}),{c(){Y(t.$$.fragment)},l(n){J(t.$$.fragment,n)},m(n,i){X(t,n,i),e=!0},p(n,i){const a={};i&1&&(a.gif=n[11].body),t.$set(a)},i(n){e||(R(t.$$.fragment,n),e=!0)},o(n){V(t.$$.fragment,n),e=!1},d(n){Z(t,n)}}}function we(l){let t,e,n,i,a;const f=[Ye,Qe],u=[];function c(r,s){return r[11].gif?0:1}return e=c(l),n=u[e]=f[e](l),{c(){t=S("div"),n.c(),i=M(),this.h()},l(r){t=q(r,"DIV",{class:!0});var s=E(t);n.l(s),i=j(s),s.forEach(k),this.h()},h(){d(t,"class","message svelte-1vz3dde"),ge(t,"text",!l[11].gif)},m(r,s){D(r,t,s),u[e].m(t,null),w(t,i),a=!0},p(r,s){let h=e;e=c(r),e===h?u[e].p(r,s):(x(),V(u[h],1,1,()=>{u[h]=null}),$(),n=u[e],n?n.p(r,s):(n=u[e]=f[e](r),n.c()),R(n,1),n.m(t,i)),s&1&&ge(t,"text",!r[11].gif)},i(r){a||(R(n),a=!0)},o(r){V(n),a=!1},d(r){r&&k(t),u[e].d()}}}function Je(l){let t,e,n,i,a,f,u,c,r,s;return{c(){t=S("form"),e=S("button"),n=H("GIF"),i=M(),a=S("input"),f=M(),u=S("button"),c=H("\u25B6"),this.h()},l(h){t=q(h,"FORM",{class:!0});var v=E(t);e=q(v,"BUTTON",{type:!0});var y=E(e);n=F(y,"GIF"),y.forEach(k),i=j(v),a=q(v,"INPUT",{type:!0,class:!0}),f=j(v),u=q(v,"BUTTON",{});var b=E(u);c=F(b,"\u25B6"),b.forEach(k),v.forEach(k),this.h()},h(){d(e,"type","button"),d(a,"type","text"),d(a,"class","text-input svelte-1vz3dde"),d(t,"class","form svelte-1vz3dde")},m(h,v){D(h,t,v),w(t,e),w(e,n),w(t,i),w(t,a),le(a,l[3]),w(t,f),w(t,u),w(u,c),r||(s=[W(e,"click",l[8]),W(a,"input",l[9]),W(t,"submit",Re(l[10]))],r=!0)},p(h,v){v&8&&a.value!==h[3]&&le(a,h[3])},i:L,o:L,d(h){h&&k(t),r=!1,de(s)}}}function Xe(l){let t,e,n,i;function a(u){l[5](u)}let f={key:"OY94CH1Q77WO"};return l[3]!==void 0&&(f.q=l[3]),e=new Ke({props:f}),ee.push(()=>ne(e,"q",a)),e.$on("click",l[6]),e.$on("close",l[7]),{c(){t=S("div"),Y(e.$$.fragment),this.h()},l(u){t=q(u,"DIV",{class:!0});var c=E(t);J(e.$$.fragment,c),c.forEach(k),this.h()},h(){d(t,"class","keyboard svelte-1vz3dde")},m(u,c){D(u,t,c),X(e,t,null),i=!0},p(u,c){const r={};!n&&c&8&&(n=!0,r.q=u[3],ie(()=>n=!1)),e.$set(r)},i(u){i||(R(e.$$.fragment,u),i=!0)},o(u){V(e.$$.fragment,u),i=!1},d(u){u&&k(t),Z(e)}}}function Ze(l){let t,e,n,i,a,f,u,c,r,s,h,v,y,b,U,T,N=l[0],p=[];for(let o=0;o<N.length;o+=1)p[o]=we(ke(l,N,o));const g=o=>V(p[o],1,1,()=>{p[o]=null}),C=[Xe,Je],O=[];function m(o,_){return o[1]?0:1}return r=m(l),s=O[r]=C[r](l),{c(){t=M(),e=S("main"),n=S("h1"),i=H("svelte-tenor"),a=M(),f=S("div"),u=S("div");for(let o=0;o<p.length;o+=1)p[o].c();c=M(),s.c(),h=M(),v=S("footer"),y=S("p"),b=S("a"),U=H("Check out the storybook"),this.h()},l(o){Ee('[data-svelte="svelte-1arxumj"]',document.head).forEach(k),t=j(o),e=q(o,"MAIN",{class:!0});var I=E(e);n=q(I,"H1",{class:!0});var z=E(n);i=F(z,"svelte-tenor"),z.forEach(k),a=j(I),f=q(I,"DIV",{class:!0});var P=E(f);u=q(P,"DIV",{class:!0});var oe=E(u);for(let re=0;re<p.length;re+=1)p[re].l(oe);oe.forEach(k),c=j(P),s.l(P),P.forEach(k),h=j(I),v=q(I,"FOOTER",{class:!0});var ae=E(v);y=q(ae,"P",{});var ue=E(y);b=q(ue,"A",{href:!0,rel:!0,class:!0});var fe=E(b);U=F(fe,"Check out the storybook"),fe.forEach(k),ue.forEach(k),ae.forEach(k),I.forEach(k),this.h()},h(){document.title="svelte-tenor",d(n,"class","svelte-1vz3dde"),d(u,"class","messages svelte-1vz3dde"),d(f,"class","phone svelte-1vz3dde"),d(b,"href","./storybook/"),d(b,"rel","external"),d(b,"class","svelte-1vz3dde"),d(v,"class","svelte-1vz3dde"),d(e,"class","svelte-1vz3dde")},m(o,_){D(o,t,_),D(o,e,_),w(e,n),w(n,i),w(e,a),w(e,f),w(f,u);for(let I=0;I<p.length;I+=1)p[I].m(u,null);l[4](u),w(f,c),O[r].m(f,null),w(e,h),w(e,v),w(v,y),w(y,b),w(b,U),T=!0},p(o,[_]){if(_&1){N=o[0];let z;for(z=0;z<N.length;z+=1){const P=ke(o,N,z);p[z]?(p[z].p(P,_),R(p[z],1)):(p[z]=we(P),p[z].c(),R(p[z],1),p[z].m(u,null))}for(x(),z=N.length;z<p.length;z+=1)g(z);$()}let I=r;r=m(o),r===I?O[r].p(o,_):(x(),V(O[I],1,1,()=>{O[I]=null}),$(),s=O[r],s?s.p(o,_):(s=O[r]=C[r](o),s.c()),R(s,1),s.m(f,null))},i(o){if(!T){for(let _=0;_<N.length;_+=1)R(p[_]);R(s),T=!0}},o(o){p=p.filter(Boolean);for(let _=0;_<p.length;_+=1)V(p[_]);V(s),T=!1},d(o){o&&k(t),o&&k(e),Te(p,o),l[4](null),O[r].d()}}}function xe(l,t,e){let n=[{gif:!1,body:"Hello World!"}],i=!1,a="",f;function u(b){ee[b?"unshift":"push"](()=>{f=b,e(2,f)})}function c(b){a=b,e(3,a)}const r=({detail:b})=>{e(0,n=[...n,{gif:!0,body:b}]),e(1,i=!1),e(3,a="")},s=()=>{e(1,i=!1)},h=()=>{e(1,i=!0)};function v(){a=this.value,e(3,a)}const y=()=>{!a||(e(0,n=[...n,{gif:!1,body:a}]),e(3,a=""))};return l.$$.update=()=>{l.$$.dirty&7&&Oe().then(()=>{f==null||f.scrollTo({top:f.scrollHeight})})},[n,i,f,a,u,c,r,s,h,v,y]}class et extends A{constructor(t){super();K(this,t,xe,Ze,Q,{})}}export{et as default};

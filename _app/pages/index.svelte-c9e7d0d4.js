import{S as P,i as L,s as F,e as E,c as T,a as I,d as k,J as x,b,f as U,H as p,I as G,j as K,k as N,m as Q,n as V,K as M,o as Y,L as B,x as j,u as R,v as A,M as me,r as J,N as be,w as X,O as se,P as ye,l as re,Q as ke,R as Z,T as $,t as W,g as H,U as ee,V as te,W as oe,X as ae,Y as ve,Z as we,_ as pe,h as Se,$ as qe}from"../chunks/vendor-89960e0a.js";const D=l=>async e=>{const t=new URL(`https://g.tenor.com/v1/${l}`);for(const[i,o]of Object.entries(e))o!==void 0&&t.searchParams.set(i,o.toString());const n=await fetch(t.toString());if(n.status>=400){const i=await n.json();throw new Error(`${i.code}: ${i.error}`)}return n.json()},ue={gifs:D("gifs"),search:D("search"),trending:D("trending"),random:D("random"),searchSuggestions:D("search_suggestions"),autocomplete:D("autocomplete"),trendingTerms:D("trending_terms"),categories:D("categories"),registerShare:D("registershare"),anonid:D("anonid")};async function ze(l){return ue.search(l)}async function Ee(l){return ue.registerShare(l)}const Te=({results:l,next:e},t="medium")=>({results:l.map(({id:n,title:i,content_description:o,media:u})=>{const a={low:"nano",medium:"tiny",high:""}[t];return{id:n,description:i.length>0?i:o,width:u[0][`${a}webm`].dims[0],height:u[0][`${a}webm`].dims[1],preview:u[0][`${a}webm`].preview,mp4:u[0][`${a}mp4`].url,webm:u[0][`${a}webm`].url}}),next:e}),Ie=async({key:l,q:e,locale:t,quality:n,safety:i,ratio:o,limit:u,page:a})=>Te(await ze({key:l,q:e,locale:t,contentfilter:i,ar_range:o,limit:u,pos:a}),n),je=async l=>Ee(l);function Oe(l){let e,t,n,i,o;return{c(){e=E("video"),t=E("source"),i=E("source"),this.h()},l(u){e=T(u,"VIDEO",{width:!0,height:!0,poster:!0,"aria-label":!0,class:!0});var a=I(e);t=T(a,"SOURCE",{src:!0,type:!0}),i=T(a,"SOURCE",{src:!0,type:!0}),a.forEach(k),this.h()},h(){x(t.src,n=l[0])||b(t,"src",n),b(t,"type","video/webm"),x(i.src,o=l[1])||b(i,"src",o),b(i,"type","video/mp4"),e.autoplay=!0,e.loop=!0,e.muted=!0,e.playsInline=!0,b(e,"width",l[4]),b(e,"height",l[3]),b(e,"poster",l[2]),b(e,"aria-label",l[5]),b(e,"class","gif-video svelte-let0nd")},m(u,a){U(u,e,a),p(e,t),p(e,i)},p(u,[a]){a&1&&!x(t.src,n=u[0])&&b(t,"src",n),a&2&&!x(i.src,o=u[1])&&b(i,"src",o),a&16&&b(e,"width",u[4]),a&8&&b(e,"height",u[3]),a&4&&b(e,"poster",u[2]),a&32&&b(e,"aria-label",u[5])},i:G,o:G,d(u){u&&k(e)}}}function Re(l,e,t){let n,i,o,u,a,h,{gif:r}=e;return l.$$set=s=>{"gif"in s&&t(6,r=s.gif)},l.$$.update=()=>{l.$$.dirty&64&&t(5,{description:n,width:i,height:o,preview:u,mp4:a,webm:h}=r,n,(t(4,i),t(6,r)),(t(3,o),t(6,r)),(t(2,u),t(6,r)),(t(1,a),t(6,r)),(t(0,h),t(6,r)))},[h,a,u,o,i,n,r]}class fe extends P{constructor(e){super();L(this,e,Re,Oe,F,{gif:6})}}function ce(l,e,t){const n=l.slice();return n[7]=e[t],n}function he(l,e){let t,n,i,o,u,a;n=new fe({props:{gif:e[7]}});function h(){return e[6](e[7])}return{key:l,first:null,c(){t=E("button"),K(n.$$.fragment),i=N(),this.h()},l(r){t=T(r,"BUTTON",{style:!0,type:!0,class:!0});var s=I(t);Q(n.$$.fragment,s),i=V(s),s.forEach(k),this.h()},h(){M(t,"grid-row-end","span "+Math.ceil(e[0]*e[7].height/e[7].width/(ne+e[1]))),b(t,"type","button"),b(t,"class","svelte-5w0eea"),this.first=t},m(r,s){U(r,t,s),Y(n,t,null),p(t,i),o=!0,u||(a=B(t,"click",h),u=!0)},p(r,s){e=r;const _={};s&4&&(_.gif=e[7]),n.$set(_),(!o||s&7)&&M(t,"grid-row-end","span "+Math.ceil(e[0]*e[7].height/e[7].width/(ne+e[1])))},i(r){o||(j(n.$$.fragment,r),o=!0)},o(r){R(n.$$.fragment,r),o=!1},d(r){r&&k(t),A(n),u=!1,a()}}}function Ue(l){let e,t=[],n=new Map,i,o,u,a=l[2];const h=r=>r[7].id;for(let r=0;r<a.length;r+=1){let s=ce(l,a,r),_=h(s);n.set(_,t[r]=he(_,s))}return{c(){e=E("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=T(r,"DIV",{class:!0,style:!0});var s=I(e);for(let _=0;_<t.length;_+=1)t[_].l(s);s.forEach(k),this.h()},h(){b(e,"class","grid svelte-5w0eea"),M(e,"--column",l[0]+"px"),M(e,"--row",l[3]+"px"),M(e,"--gap",l[1]+"px")},m(r,s){U(r,e,s);for(let _=0;_<t.length;_+=1)t[_].m(e,null);i=!0,o||(u=me(l[5].call(null,e)),o=!0)},p(r,[s]){s&23&&(a=r[2],J(),t=be(t,s,h,1,r,a,n,e,ye,he,null,ce),X()),(!i||s&1)&&M(e,"--column",r[0]+"px"),(!i||s&8)&&M(e,"--row",r[3]+"px"),(!i||s&2)&&M(e,"--gap",r[1]+"px")},i(r){if(!i){for(let s=0;s<a.length;s+=1)j(t[s]);i=!0}},o(r){for(let s=0;s<t.length;s+=1)R(t[s]);i=!1},d(r){r&&k(e);for(let s=0;s<t.length;s+=1)t[s].d();o=!1,u()}}}const ne=8;function Ne(l,e,t){let{columnSize:n=160}=e,i=ne,{gap:o=8}=e,{gifs:u=[]}=e;const a=se(),h=s=>{let _=[-1,-1];const y=new ResizeObserver(()=>{if(s.offsetWidth===_[0])return;_=[_[1],s.offsetWidth];const g=window.getComputedStyle(s).getPropertyValue("grid-template-columns").split(" ").length,w=s.offsetWidth-(g-1)*o;t(3,i=w/g*(ne+o)/n-o)});return y.observe(s),{destroy(){y.unobserve(s)}}},r=s=>a("click",s);return l.$$set=s=>{"columnSize"in s&&t(0,n=s.columnSize),"gap"in s&&t(1,o=s.gap),"gifs"in s&&t(2,u=s.gifs)},[n,o,u,i,a,h,r]}class Ve extends P{constructor(e){super();L(this,e,Ne,Ue,F,{columnSize:0,gap:1,gifs:2})}}function ge(l){let e,t;return e=new Ve({props:{gifs:l[0],columnSize:l[1],gap:l[2]}}),e.$on("click",l[12]),{c(){K(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.gifs=n[0]),i&2&&(o.columnSize=n[1]),i&4&&(o.gap=n[2]),e.$set(o)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function De(l){let e,t,n=l[0]!==void 0&&ge(l);return{c(){n&&n.c(),e=re()},l(i){n&&n.l(i),e=re()},m(i,o){n&&n.m(i,o),U(i,e,o),t=!0},p(i,[o]){i[0]!==void 0?n?(n.p(i,o),o&1&&j(n,1)):(n=ge(i),n.c(),j(n,1),n.m(e.parentNode,e)):n&&(J(),R(n,1,1,()=>{n=null}),X())},i(i){t||(j(n),t=!0)},o(i){R(n),t=!1},d(i){n&&n.d(i),i&&k(e)}}}function Ce(l,e,t){let{key:n}=e,{q:i}=e,{locale:o=void 0}=e,{quality:u=void 0}=e,{safety:a=void 0}=e,{ratio:h=void 0}=e,{limit:r=void 0}=e,{page:s=1}=e,{columnSize:_=void 0}=e,{gap:y=void 0}=e,{loading:g=!0}=e,{gifs:w=void 0}=e,O,S=[],C=async()=>{for(var c;S.length<s;){t(4,g=!0);let q=Ie({key:n,q:i,locale:o,quality:u,safety:a,ratio:h,limit:r,page:(c=S[S.length-1])===null||c===void 0?void 0:c.next});O=q;let v=await q;if(O!==q)return;S=[...S,v]}t(0,w=S.slice(0,s).flatMap(({results:q})=>q)),t(4,g=!1)};function m(c){ke.call(this,l,c)}return l.$$set=c=>{"key"in c&&t(5,n=c.key),"q"in c&&t(6,i=c.q),"locale"in c&&t(7,o=c.locale),"quality"in c&&t(8,u=c.quality),"safety"in c&&t(9,a=c.safety),"ratio"in c&&t(10,h=c.ratio),"limit"in c&&t(11,r=c.limit),"page"in c&&t(3,s=c.page),"columnSize"in c&&t(1,_=c.columnSize),"gap"in c&&t(2,y=c.gap),"loading"in c&&t(4,g=c.loading),"gifs"in c&&t(0,w=c.gifs)},l.$$.update=()=>{l.$$.dirty&64&&(t(3,s=1),S=[]),l.$$.dirty&72&&C()},[w,_,y,s,g,n,i,o,u,a,h,r,m]}class Me extends P{constructor(e){super();L(this,e,Ce,De,F,{key:5,q:6,locale:7,quality:8,safety:9,ratio:10,limit:11,page:3,columnSize:1,gap:2,loading:4,gifs:0})}}function Be(l){let e,t,n,i,o,u,a,h,r,s,_,y,g,w,O,S,C;function m(d){l[15](d)}function c(d){l[16](d)}function q(d){l[17](d)}let v={key:l[4],q:l[0],locale:l[5],quality:l[6],safety:l[7],ratio:l[8],limit:l[9],columnSize:l[10],gap:l[11]};return l[1]!==void 0&&(v.page=l[1]),l[2]!==void 0&&(v.loading=l[2]),l[3]!==void 0&&(v.gifs=l[3]),h=new Me({props:v}),Z.push(()=>$(h,"page",m)),Z.push(()=>$(h,"loading",c)),Z.push(()=>$(h,"gifs",q)),h.$on("click",l[18]),{c(){e=E("div"),t=E("div"),n=E("button"),i=W("Close"),o=N(),u=E("input"),a=N(),K(h.$$.fragment),y=N(),g=E("button"),w=W("Load more"),this.h()},l(d){e=T(d,"DIV",{class:!0});var f=I(e);t=T(f,"DIV",{class:!0});var z=I(t);n=T(z,"BUTTON",{type:!0,class:!0});var le=I(n);i=H(le,"Close"),le.forEach(k),o=V(z),u=T(z,"INPUT",{type:!0,placeholder:!0,class:!0}),z.forEach(k),a=V(f),Q(h.$$.fragment,f),y=V(f),g=T(f,"BUTTON",{class:!0});var ie=I(g);w=H(ie,"Load more"),ie.forEach(k),f.forEach(k),this.h()},h(){b(n,"type","button"),b(n,"class","svelte-a0mlr3"),b(u,"type","search"),b(u,"placeholder","Search Tenor"),b(u,"class","svelte-a0mlr3"),b(t,"class","row svelte-a0mlr3"),b(g,"class","svelte-a0mlr3"),b(e,"class","keyboard")},m(d,f){U(d,e,f),p(e,t),p(t,n),p(n,i),p(t,o),p(t,u),ee(u,l[0]),p(e,a),Y(h,e,null),p(e,y),p(e,g),p(g,w),O=!0,S||(C=[B(n,"click",l[13]),B(u,"input",l[14]),B(g,"click",l[19])],S=!0)},p(d,[f]){f&1&&ee(u,d[0]);const z={};f&16&&(z.key=d[4]),f&1&&(z.q=d[0]),f&32&&(z.locale=d[5]),f&64&&(z.quality=d[6]),f&128&&(z.safety=d[7]),f&256&&(z.ratio=d[8]),f&512&&(z.limit=d[9]),f&1024&&(z.columnSize=d[10]),f&2048&&(z.gap=d[11]),!r&&f&2&&(r=!0,z.page=d[1],te(()=>r=!1)),!s&&f&4&&(s=!0,z.loading=d[2],te(()=>s=!1)),!_&&f&8&&(_=!0,z.gifs=d[3],te(()=>_=!1)),h.$set(z)},i(d){O||(j(h.$$.fragment,d),O=!0)},o(d){R(h.$$.fragment,d),O=!1},d(d){d&&k(e),A(h),S=!1,oe(C)}}}function Ge(l,e,t){let{key:n}=e,{q:i=""}=e,{locale:o=void 0}=e,{quality:u=void 0}=e,{safety:a=void 0}=e,{ratio:h=void 0}=e,{limit:r=void 0}=e,{page:s=1}=e,{columnSize:_=void 0}=e,{gap:y=void 0}=e,{loading:g=!0}=e,{gifs:w=void 0}=e;const O=se(),S=()=>{O("close")};function C(){i=this.value,t(0,i)}function m(f){s=f,t(1,s)}function c(f){g=f,t(2,g)}function q(f){w=f,t(3,w)}const v=async({detail:f})=>{O("click",f),je({key:n,id:f.id,q:i,locale:o})},d=()=>t(1,s++,s);return l.$$set=f=>{"key"in f&&t(4,n=f.key),"q"in f&&t(0,i=f.q),"locale"in f&&t(5,o=f.locale),"quality"in f&&t(6,u=f.quality),"safety"in f&&t(7,a=f.safety),"ratio"in f&&t(8,h=f.ratio),"limit"in f&&t(9,r=f.limit),"page"in f&&t(1,s=f.page),"columnSize"in f&&t(10,_=f.columnSize),"gap"in f&&t(11,y=f.gap),"loading"in f&&t(2,g=f.loading),"gifs"in f&&t(3,w=f.gifs)},[i,s,g,w,n,o,u,a,h,r,_,y,O,S,C,m,c,q,v,d]}class We extends P{constructor(e){super();L(this,e,Ge,Be,F,{key:4,q:0,locale:5,quality:6,safety:7,ratio:8,limit:9,page:1,columnSize:10,gap:11,loading:2,gifs:3})}}function _e(l,e,t){const n=l.slice();return n[11]=e[t],n}function He(l){let e=l[11].body+"",t;return{c(){t=W(e)},l(n){t=H(n,e)},m(n,i){U(n,t,i)},p(n,i){i&1&&e!==(e=n[11].body+"")&&Se(t,e)},i:G,o:G,d(n){n&&k(t)}}}function Pe(l){let e,t;return e=new fe({props:{gif:l[11].body}}),{c(){K(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.gif=n[11].body),e.$set(o)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){R(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function de(l){let e,t,n,i,o;const u=[Pe,He],a=[];function h(r,s){return r[11].gif?0:1}return t=h(l),n=a[t]=u[t](l),{c(){e=E("div"),n.c(),i=N(),this.h()},l(r){e=T(r,"DIV",{class:!0});var s=I(e);n.l(s),i=V(s),s.forEach(k),this.h()},h(){b(e,"class","message svelte-cazju9"),ae(e,"text",!l[11].gif)},m(r,s){U(r,e,s),a[t].m(e,null),p(e,i),o=!0},p(r,s){let _=t;t=h(r),t===_?a[t].p(r,s):(J(),R(a[_],1,1,()=>{a[_]=null}),X(),n=a[t],n?n.p(r,s):(n=a[t]=u[t](r),n.c()),j(n,1),n.m(e,i)),s&1&&ae(e,"text",!r[11].gif)},i(r){o||(j(n),o=!0)},o(r){R(n),o=!1},d(r){r&&k(e),a[t].d()}}}function Le(l){let e,t,n,i,o,u,a,h,r,s;return{c(){e=E("form"),t=E("button"),n=W("GIF"),i=N(),o=E("input"),u=N(),a=E("button"),h=W("\u25B6"),this.h()},l(_){e=T(_,"FORM",{class:!0});var y=I(e);t=T(y,"BUTTON",{type:!0});var g=I(t);n=H(g,"GIF"),g.forEach(k),i=V(y),o=T(y,"INPUT",{type:!0,class:!0}),u=V(y),a=T(y,"BUTTON",{});var w=I(a);h=H(w,"\u25B6"),w.forEach(k),y.forEach(k),this.h()},h(){b(t,"type","button"),b(o,"type","text"),b(o,"class","text-input svelte-cazju9"),b(e,"class","form svelte-cazju9")},m(_,y){U(_,e,y),p(e,t),p(t,n),p(e,i),p(e,o),ee(o,l[3]),p(e,u),p(e,a),p(a,h),r||(s=[B(t,"click",l[8]),B(o,"input",l[9]),B(e,"submit",qe(l[10]))],r=!0)},p(_,y){y&8&&o.value!==_[3]&&ee(o,_[3])},i:G,o:G,d(_){_&&k(e),r=!1,oe(s)}}}function Fe(l){let e,t,n,i;function o(a){l[5](a)}let u={key:"OY94CH1Q77WO"};return l[3]!==void 0&&(u.q=l[3]),t=new We({props:u}),Z.push(()=>$(t,"q",o)),t.$on("click",l[6]),t.$on("close",l[7]),{c(){e=E("div"),K(t.$$.fragment),this.h()},l(a){e=T(a,"DIV",{class:!0});var h=I(e);Q(t.$$.fragment,h),h.forEach(k),this.h()},h(){b(e,"class","keyboard svelte-cazju9")},m(a,h){U(a,e,h),Y(t,e,null),i=!0},p(a,h){const r={};!n&&h&8&&(n=!0,r.q=a[3],te(()=>n=!1)),t.$set(r)},i(a){i||(j(t.$$.fragment,a),i=!0)},o(a){R(t.$$.fragment,a),i=!1},d(a){a&&k(e),A(t)}}}function Ke(l){let e,t,n,i,o,u,a,h,r,s,_,y=l[0],g=[];for(let m=0;m<y.length;m+=1)g[m]=de(_e(l,y,m));const w=m=>R(g[m],1,1,()=>{g[m]=null}),O=[Fe,Le],S=[];function C(m,c){return m[1]?0:1}return r=C(l),s=S[r]=O[r](l),{c(){e=N(),t=E("main"),n=E("h1"),i=W("svelte-tenor"),o=N(),u=E("div"),a=E("div");for(let m=0;m<g.length;m+=1)g[m].c();h=N(),s.c(),this.h()},l(m){ve('[data-svelte="svelte-1arxumj"]',document.head).forEach(k),e=V(m),t=T(m,"MAIN",{class:!0});var q=I(t);n=T(q,"H1",{class:!0});var v=I(n);i=H(v,"svelte-tenor"),v.forEach(k),o=V(q),u=T(q,"DIV",{class:!0});var d=I(u);a=T(d,"DIV",{class:!0});var f=I(a);for(let z=0;z<g.length;z+=1)g[z].l(f);f.forEach(k),h=V(d),s.l(d),d.forEach(k),q.forEach(k),this.h()},h(){document.title="svelte-tenor",b(n,"class","svelte-cazju9"),b(a,"class","messages svelte-cazju9"),b(u,"class","phone svelte-cazju9"),b(t,"class","svelte-cazju9")},m(m,c){U(m,e,c),U(m,t,c),p(t,n),p(n,i),p(t,o),p(t,u),p(u,a);for(let q=0;q<g.length;q+=1)g[q].m(a,null);l[4](a),p(u,h),S[r].m(u,null),_=!0},p(m,[c]){if(c&1){y=m[0];let v;for(v=0;v<y.length;v+=1){const d=_e(m,y,v);g[v]?(g[v].p(d,c),j(g[v],1)):(g[v]=de(d),g[v].c(),j(g[v],1),g[v].m(a,null))}for(J(),v=y.length;v<g.length;v+=1)w(v);X()}let q=r;r=C(m),r===q?S[r].p(m,c):(J(),R(S[q],1,1,()=>{S[q]=null}),X(),s=S[r],s?s.p(m,c):(s=S[r]=O[r](m),s.c()),j(s,1),s.m(u,null))},i(m){if(!_){for(let c=0;c<y.length;c+=1)j(g[c]);j(s),_=!0}},o(m){g=g.filter(Boolean);for(let c=0;c<g.length;c+=1)R(g[c]);R(s),_=!1},d(m){m&&k(e),m&&k(t),we(g,m),l[4](null),S[r].d()}}}function Qe(l,e,t){let n=[{gif:!1,body:"Hello World!"}],i=!1,o="",u;function a(w){Z[w?"unshift":"push"](()=>{u=w,t(2,u)})}function h(w){o=w,t(3,o)}const r=({detail:w})=>{t(0,n=[...n,{gif:!0,body:w}]),t(1,i=!1),t(3,o="")},s=()=>{t(1,i=!1)},_=()=>{t(1,i=!0)};function y(){o=this.value,t(3,o)}const g=()=>{!o||(t(0,n=[...n,{gif:!1,body:o}]),t(3,o=""))};return l.$$.update=()=>{l.$$.dirty&7&&pe().then(()=>{u==null||u.scrollTo({top:u.scrollHeight})})},[n,i,u,o,a,h,r,s,_,y,g]}class Ae extends P{constructor(e){super();L(this,e,Qe,Ke,F,{})}}export{Ae as default};

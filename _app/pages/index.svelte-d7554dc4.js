import{S as A,i as K,s as Q,e as S,c as q,a as z,d as v,J as te,b as g,f as D,H as w,I as L,j as Y,k as M,m as J,n as j,K as G,o as X,L as W,x as R,u as V,v as Z,M as pe,r as x,N as Se,w as $,O as ce,P as qe,l as he,Q as Ee,R as ee,T as ne,t as H,g as F,U as le,V as ie,W as ge,X as _e,Y as ze,Z as Te,_ as Oe,h as Ie,$ as Re}from"../chunks/vendor-89960e0a.js";const B=l=>async t=>{const e=new URL(`https://g.tenor.com/v1/${l}`);for(const[i,a]of Object.entries(t))a!==void 0&&e.searchParams.set(i,a.toString());const n=await fetch(e.toString());if(n.status>=400){const i=await n.json();throw new Error(`${i.code}: ${i.error}`)}return n.json()},de={gifs:B("gifs"),search:B("search"),trending:B("trending"),random:B("random"),searchSuggestions:B("search_suggestions"),autocomplete:B("autocomplete"),trendingTerms:B("trending_terms"),categories:B("categories"),registerShare:B("registershare"),anonid:B("anonid")};async function Ue(l){return de.search(l)}async function Ne(l){return de.registerShare(l)}const Ve=({results:l,next:t},e="medium")=>({results:l.map(({id:n,title:i,content_description:a,media:u})=>{const f={low:"nano",medium:"tiny",high:""}[e];return{id:n,description:i.length>0?i:a,width:u[0][`${f}webm`].dims[0],height:u[0][`${f}webm`].dims[1],preview:u[0][`${f}webm`].preview,mp4:u[0][`${f}mp4`].url,webm:u[0][`${f}webm`].url}}),next:t}),Ce=async({key:l,q:t,locale:e,quality:n,safety:i,ratio:a,limit:u,page:f})=>Ve(await Ue({key:l,q:t,locale:e,contentfilter:i,ar_range:a,limit:u,pos:f}),n),De=async l=>Ne(l);function Me(l){let t,e,n,i,a;return{c(){t=S("video"),e=S("source"),i=S("source"),this.h()},l(u){t=q(u,"VIDEO",{width:!0,height:!0,poster:!0,"aria-label":!0,class:!0});var f=z(t);e=q(f,"SOURCE",{src:!0,type:!0}),i=q(f,"SOURCE",{src:!0,type:!0}),f.forEach(v),this.h()},h(){te(e.src,n=l[0])||g(e,"src",n),g(e,"type","video/webm"),te(i.src,a=l[1])||g(i,"src",a),g(i,"type","video/mp4"),t.autoplay=!0,t.loop=!0,t.muted=!0,t.playsInline=!0,g(t,"width",l[4]),g(t,"height",l[3]),g(t,"poster",l[2]),g(t,"aria-label",l[5]),g(t,"class","gif-video svelte-let0nd")},m(u,f){D(u,t,f),w(t,e),w(t,i)},p(u,[f]){f&1&&!te(e.src,n=u[0])&&g(e,"src",n),f&2&&!te(i.src,a=u[1])&&g(i,"src",a),f&16&&g(t,"width",u[4]),f&8&&g(t,"height",u[3]),f&4&&g(t,"poster",u[2]),f&32&&g(t,"aria-label",u[5])},i:L,o:L,d(u){u&&v(t)}}}function je(l,t,e){let n,i,a,u,f,c,{gif:r}=t;return l.$$set=s=>{"gif"in s&&e(6,r=s.gif)},l.$$.update=()=>{l.$$.dirty&64&&e(5,{description:n,width:i,height:a,preview:u,mp4:f,webm:c}=r,n,(e(4,i),e(6,r)),(e(3,a),e(6,r)),(e(2,u),e(6,r)),(e(1,f),e(6,r)),(e(0,c),e(6,r)))},[c,f,u,a,i,n,r]}class me extends A{constructor(t){super();K(this,t,je,Me,Q,{gif:6})}}function be(l,t,e){const n=l.slice();return n[7]=t[e],n}function ye(l,t){let e,n,i,a,u,f;n=new me({props:{gif:t[7]}});function c(){return t[6](t[7])}return{key:l,first:null,c(){e=S("button"),Y(n.$$.fragment),i=M(),this.h()},l(r){e=q(r,"BUTTON",{style:!0,type:!0,class:!0});var s=z(e);J(n.$$.fragment,s),i=j(s),s.forEach(v),this.h()},h(){G(e,"grid-row-end","span "+Math.ceil(t[0]*t[7].height/t[7].width/(se+t[1]))),g(e,"type","button"),g(e,"class","svelte-5w0eea"),this.first=e},m(r,s){D(r,e,s),X(n,e,null),w(e,i),a=!0,u||(f=W(e,"click",c),u=!0)},p(r,s){t=r;const h={};s&4&&(h.gif=t[7]),n.$set(h),(!a||s&7)&&G(e,"grid-row-end","span "+Math.ceil(t[0]*t[7].height/t[7].width/(se+t[1])))},i(r){a||(R(n.$$.fragment,r),a=!0)},o(r){V(n.$$.fragment,r),a=!1},d(r){r&&v(e),Z(n),u=!1,f()}}}function Be(l){let t,e=[],n=new Map,i,a,u,f=l[2];const c=r=>r[7].id;for(let r=0;r<f.length;r+=1){let s=be(l,f,r),h=c(s);n.set(h,e[r]=ye(h,s))}return{c(){t=S("div");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=q(r,"DIV",{class:!0,style:!0});var s=z(t);for(let h=0;h<e.length;h+=1)e[h].l(s);s.forEach(v),this.h()},h(){g(t,"class","grid svelte-5w0eea"),G(t,"--column",l[0]+"px"),G(t,"--row",l[3]+"px"),G(t,"--gap",l[1]+"px")},m(r,s){D(r,t,s);for(let h=0;h<e.length;h+=1)e[h].m(t,null);i=!0,a||(u=pe(l[5].call(null,t)),a=!0)},p(r,[s]){s&23&&(f=r[2],x(),e=Se(e,s,c,1,r,f,n,t,qe,ye,null,be),$()),(!i||s&1)&&G(t,"--column",r[0]+"px"),(!i||s&8)&&G(t,"--row",r[3]+"px"),(!i||s&2)&&G(t,"--gap",r[1]+"px")},i(r){if(!i){for(let s=0;s<f.length;s+=1)R(e[s]);i=!0}},o(r){for(let s=0;s<e.length;s+=1)V(e[s]);i=!1},d(r){r&&v(t);for(let s=0;s<e.length;s+=1)e[s].d();a=!1,u()}}}const se=8;function Ge(l,t,e){let{columnSize:n=160}=t,i=se,{gap:a=8}=t,{gifs:u=[]}=t;const f=ce(),c=s=>{let h=[-1,-1];const y=new ResizeObserver(()=>{if(s.offsetWidth===h[0])return;h=[h[1],s.offsetWidth];const k=window.getComputedStyle(s).getPropertyValue("grid-template-columns").split(" ").length,b=s.offsetWidth-(k-1)*a;e(3,i=b/k*(se+a)/n-a)});return y.observe(s),{destroy(){y.unobserve(s)}}},r=s=>f("click",s);return l.$$set=s=>{"columnSize"in s&&e(0,n=s.columnSize),"gap"in s&&e(1,a=s.gap),"gifs"in s&&e(2,u=s.gifs)},[n,a,u,i,f,c,r]}class Pe extends A{constructor(t){super();K(this,t,Ge,Be,Q,{columnSize:0,gap:1,gifs:2})}}function ke(l){let t,e;return t=new Pe({props:{gifs:l[0],columnSize:l[1],gap:l[2]}}),t.$on("click",l[12]),{c(){Y(t.$$.fragment)},l(n){J(t.$$.fragment,n)},m(n,i){X(t,n,i),e=!0},p(n,i){const a={};i&1&&(a.gifs=n[0]),i&2&&(a.columnSize=n[1]),i&4&&(a.gap=n[2]),t.$set(a)},i(n){e||(R(t.$$.fragment,n),e=!0)},o(n){V(t.$$.fragment,n),e=!1},d(n){Z(t,n)}}}function We(l){let t,e,n=l[0]!==void 0&&ke(l);return{c(){n&&n.c(),t=he()},l(i){n&&n.l(i),t=he()},m(i,a){n&&n.m(i,a),D(i,t,a),e=!0},p(i,[a]){i[0]!==void 0?n?(n.p(i,a),a&1&&R(n,1)):(n=ke(i),n.c(),R(n,1),n.m(t.parentNode,t)):n&&(x(),V(n,1,1,()=>{n=null}),$())},i(i){e||(R(n),e=!0)},o(i){V(n),e=!1},d(i){n&&n.d(i),i&&v(t)}}}function He(l,t,e){let{key:n}=t,{q:i}=t,{locale:a=void 0}=t,{quality:u=void 0}=t,{safety:f=void 0}=t,{ratio:c=void 0}=t,{limit:r=void 0}=t,{page:s=1}=t,{columnSize:h=void 0}=t,{gap:y=void 0}=t,{loading:k=!0}=t,{gifs:b=void 0}=t,U,T=[],N=async()=>{for(var _;T.length<s;){e(4,k=!0);let C=Ce({key:n,q:i,locale:a,quality:u,safety:f,ratio:c,limit:r,page:(_=T[T.length-1])===null||_===void 0?void 0:_.next});U=C;let O=await C;if(U!==C)return;T=[...T,O]}e(0,b=T.slice(0,s).flatMap(({results:C})=>C)),e(4,k=!1)};function p(_){Ee.call(this,l,_)}return l.$$set=_=>{"key"in _&&e(5,n=_.key),"q"in _&&e(6,i=_.q),"locale"in _&&e(7,a=_.locale),"quality"in _&&e(8,u=_.quality),"safety"in _&&e(9,f=_.safety),"ratio"in _&&e(10,c=_.ratio),"limit"in _&&e(11,r=_.limit),"page"in _&&e(3,s=_.page),"columnSize"in _&&e(1,h=_.columnSize),"gap"in _&&e(2,y=_.gap),"loading"in _&&e(4,k=_.loading),"gifs"in _&&e(0,b=_.gifs)},l.$$.update=()=>{l.$$.dirty&64&&(e(3,s=1),T=[]),l.$$.dirty&72&&N()},[b,h,y,s,k,n,i,a,u,f,c,r,p]}class Fe extends A{constructor(t){super();K(this,t,He,We,Q,{key:5,q:6,locale:7,quality:8,safety:9,ratio:10,limit:11,page:3,columnSize:1,gap:2,loading:4,gifs:0})}}function Le(l){let t,e,n,i,a,u,f,c,r,s,h,y,k,b,U,T,N;function p(m){l[15](m)}function _(m){l[16](m)}function C(m){l[17](m)}let O={key:l[4],q:l[0],locale:l[5],quality:l[6],safety:l[7],ratio:l[8],limit:l[9],columnSize:l[10],gap:l[11]};return l[1]!==void 0&&(O.page=l[1]),l[2]!==void 0&&(O.loading=l[2]),l[3]!==void 0&&(O.gifs=l[3]),c=new Fe({props:O}),ee.push(()=>ne(c,"page",p)),ee.push(()=>ne(c,"loading",_)),ee.push(()=>ne(c,"gifs",C)),c.$on("click",l[18]),{c(){t=S("div"),e=S("div"),n=S("button"),i=H("Close"),a=M(),u=S("input"),f=M(),Y(c.$$.fragment),y=M(),k=S("button"),b=H("Load more"),this.h()},l(m){t=q(m,"DIV",{class:!0});var o=z(t);e=q(o,"DIV",{class:!0});var d=z(e);n=q(d,"BUTTON",{type:!0,class:!0});var I=z(n);i=F(I,"Close"),I.forEach(v),a=j(d),u=q(d,"INPUT",{type:!0,placeholder:!0,class:!0}),d.forEach(v),f=j(o),J(c.$$.fragment,o),y=j(o),k=q(o,"BUTTON",{class:!0});var E=z(k);b=F(E,"Load more"),E.forEach(v),o.forEach(v),this.h()},h(){g(n,"type","button"),g(n,"class","svelte-a0mlr3"),g(u,"type","search"),g(u,"placeholder","Search Tenor"),g(u,"class","svelte-a0mlr3"),g(e,"class","row svelte-a0mlr3"),g(k,"class","svelte-a0mlr3"),g(t,"class","keyboard")},m(m,o){D(m,t,o),w(t,e),w(e,n),w(n,i),w(e,a),w(e,u),le(u,l[0]),w(t,f),X(c,t,null),w(t,y),w(t,k),w(k,b),U=!0,T||(N=[W(n,"click",l[13]),W(u,"input",l[14]),W(k,"click",l[19])],T=!0)},p(m,[o]){o&1&&le(u,m[0]);const d={};o&16&&(d.key=m[4]),o&1&&(d.q=m[0]),o&32&&(d.locale=m[5]),o&64&&(d.quality=m[6]),o&128&&(d.safety=m[7]),o&256&&(d.ratio=m[8]),o&512&&(d.limit=m[9]),o&1024&&(d.columnSize=m[10]),o&2048&&(d.gap=m[11]),!r&&o&2&&(r=!0,d.page=m[1],ie(()=>r=!1)),!s&&o&4&&(s=!0,d.loading=m[2],ie(()=>s=!1)),!h&&o&8&&(h=!0,d.gifs=m[3],ie(()=>h=!1)),c.$set(d)},i(m){U||(R(c.$$.fragment,m),U=!0)},o(m){V(c.$$.fragment,m),U=!1},d(m){m&&v(t),Z(c),T=!1,ge(N)}}}function Ae(l,t,e){let{key:n}=t,{q:i=""}=t,{locale:a=void 0}=t,{quality:u=void 0}=t,{safety:f=void 0}=t,{ratio:c=void 0}=t,{limit:r=void 0}=t,{page:s=1}=t,{columnSize:h=void 0}=t,{gap:y=void 0}=t,{loading:k=!0}=t,{gifs:b=void 0}=t;const U=ce(),T=()=>{U("close")};function N(){i=this.value,e(0,i)}function p(o){s=o,e(1,s)}function _(o){k=o,e(2,k)}function C(o){b=o,e(3,b)}const O=async({detail:o})=>{U("click",o),De({key:n,id:o.id,q:i,locale:a})},m=()=>e(1,s++,s);return l.$$set=o=>{"key"in o&&e(4,n=o.key),"q"in o&&e(0,i=o.q),"locale"in o&&e(5,a=o.locale),"quality"in o&&e(6,u=o.quality),"safety"in o&&e(7,f=o.safety),"ratio"in o&&e(8,c=o.ratio),"limit"in o&&e(9,r=o.limit),"page"in o&&e(1,s=o.page),"columnSize"in o&&e(10,h=o.columnSize),"gap"in o&&e(11,y=o.gap),"loading"in o&&e(2,k=o.loading),"gifs"in o&&e(3,b=o.gifs)},[i,s,k,b,n,a,u,f,c,r,h,y,U,T,N,p,_,C,O,m]}class Ke extends A{constructor(t){super();K(this,t,Ae,Le,Q,{key:4,q:0,locale:5,quality:6,safety:7,ratio:8,limit:9,page:1,columnSize:10,gap:11,loading:2,gifs:3})}}function ve(l,t,e){const n=l.slice();return n[11]=t[e],n}function Qe(l){let t=l[11].body+"",e;return{c(){e=H(t)},l(n){e=F(n,t)},m(n,i){D(n,e,i)},p(n,i){i&1&&t!==(t=n[11].body+"")&&Ie(e,t)},i:L,o:L,d(n){n&&v(e)}}}function Ye(l){let t,e;return t=new me({props:{gif:l[11].body}}),{c(){Y(t.$$.fragment)},l(n){J(t.$$.fragment,n)},m(n,i){X(t,n,i),e=!0},p(n,i){const a={};i&1&&(a.gif=n[11].body),t.$set(a)},i(n){e||(R(t.$$.fragment,n),e=!0)},o(n){V(t.$$.fragment,n),e=!1},d(n){Z(t,n)}}}function we(l){let t,e,n,i,a;const u=[Ye,Qe],f=[];function c(r,s){return r[11].gif?0:1}return e=c(l),n=f[e]=u[e](l),{c(){t=S("div"),n.c(),i=M(),this.h()},l(r){t=q(r,"DIV",{class:!0});var s=z(t);n.l(s),i=j(s),s.forEach(v),this.h()},h(){g(t,"class","message svelte-10ffanw"),_e(t,"text",!l[11].gif)},m(r,s){D(r,t,s),f[e].m(t,null),w(t,i),a=!0},p(r,s){let h=e;e=c(r),e===h?f[e].p(r,s):(x(),V(f[h],1,1,()=>{f[h]=null}),$(),n=f[e],n?n.p(r,s):(n=f[e]=u[e](r),n.c()),R(n,1),n.m(t,i)),s&1&&_e(t,"text",!r[11].gif)},i(r){a||(R(n),a=!0)},o(r){V(n),a=!1},d(r){r&&v(t),f[e].d()}}}function Je(l){let t,e,n,i,a,u,f,c,r,s;return{c(){t=S("form"),e=S("button"),n=H("GIF"),i=M(),a=S("input"),u=M(),f=S("button"),c=H("\u25B6"),this.h()},l(h){t=q(h,"FORM",{class:!0});var y=z(t);e=q(y,"BUTTON",{type:!0});var k=z(e);n=F(k,"GIF"),k.forEach(v),i=j(y),a=q(y,"INPUT",{type:!0,class:!0}),u=j(y),f=q(y,"BUTTON",{});var b=z(f);c=F(b,"\u25B6"),b.forEach(v),y.forEach(v),this.h()},h(){g(e,"type","button"),g(a,"type","text"),g(a,"class","text-input svelte-10ffanw"),g(t,"class","form svelte-10ffanw")},m(h,y){D(h,t,y),w(t,e),w(e,n),w(t,i),w(t,a),le(a,l[3]),w(t,u),w(t,f),w(f,c),r||(s=[W(e,"click",l[8]),W(a,"input",l[9]),W(t,"submit",Re(l[10]))],r=!0)},p(h,y){y&8&&a.value!==h[3]&&le(a,h[3])},i:L,o:L,d(h){h&&v(t),r=!1,ge(s)}}}function Xe(l){let t,e,n,i;function a(f){l[5](f)}let u={key:"OY94CH1Q77WO"};return l[3]!==void 0&&(u.q=l[3]),e=new Ke({props:u}),ee.push(()=>ne(e,"q",a)),e.$on("click",l[6]),e.$on("close",l[7]),{c(){t=S("div"),Y(e.$$.fragment),this.h()},l(f){t=q(f,"DIV",{class:!0});var c=z(t);J(e.$$.fragment,c),c.forEach(v),this.h()},h(){g(t,"class","keyboard svelte-10ffanw")},m(f,c){D(f,t,c),X(e,t,null),i=!0},p(f,c){const r={};!n&&c&8&&(n=!0,r.q=f[3],ie(()=>n=!1)),e.$set(r)},i(f){i||(R(e.$$.fragment,f),i=!0)},o(f){V(e.$$.fragment,f),i=!1},d(f){f&&v(t),Z(e)}}}function Ze(l){let t,e,n,i,a,u,f,c,r,s,h,y,k,b,U,T,N=l[0],p=[];for(let o=0;o<N.length;o+=1)p[o]=we(ve(l,N,o));const _=o=>V(p[o],1,1,()=>{p[o]=null}),C=[Xe,Je],O=[];function m(o,d){return o[1]?0:1}return r=m(l),s=O[r]=C[r](l),{c(){t=M(),e=S("main"),n=S("h1"),i=H("svelte-tenor"),a=M(),u=S("div"),f=S("div");for(let o=0;o<p.length;o+=1)p[o].c();c=M(),s.c(),h=M(),y=S("footer"),k=S("p"),b=S("a"),U=H("Check out the storybook"),this.h()},l(o){ze('[data-svelte="svelte-1arxumj"]',document.head).forEach(v),t=j(o),e=q(o,"MAIN",{class:!0});var I=z(e);n=q(I,"H1",{class:!0});var E=z(n);i=F(E,"svelte-tenor"),E.forEach(v),a=j(I),u=q(I,"DIV",{class:!0});var P=z(u);f=q(P,"DIV",{class:!0});var oe=z(f);for(let re=0;re<p.length;re+=1)p[re].l(oe);oe.forEach(v),c=j(P),s.l(P),P.forEach(v),h=j(I),y=q(I,"FOOTER",{class:!0});var ae=z(y);k=q(ae,"P",{});var fe=z(k);b=q(fe,"A",{href:!0,rel:!0,class:!0});var ue=z(b);U=F(ue,"Check out the storybook"),ue.forEach(v),fe.forEach(v),ae.forEach(v),I.forEach(v),this.h()},h(){document.title="svelte-tenor",g(n,"class","svelte-10ffanw"),g(f,"class","messages svelte-10ffanw"),g(u,"class","phone svelte-10ffanw"),g(b,"href","./storybook/"),g(b,"rel","external"),g(b,"class","svelte-10ffanw"),g(y,"class","svelte-10ffanw"),g(e,"class","svelte-10ffanw")},m(o,d){D(o,t,d),D(o,e,d),w(e,n),w(n,i),w(e,a),w(e,u),w(u,f);for(let I=0;I<p.length;I+=1)p[I].m(f,null);l[4](f),w(u,c),O[r].m(u,null),w(e,h),w(e,y),w(y,k),w(k,b),w(b,U),T=!0},p(o,[d]){if(d&1){N=o[0];let E;for(E=0;E<N.length;E+=1){const P=ve(o,N,E);p[E]?(p[E].p(P,d),R(p[E],1)):(p[E]=we(P),p[E].c(),R(p[E],1),p[E].m(f,null))}for(x(),E=N.length;E<p.length;E+=1)_(E);$()}let I=r;r=m(o),r===I?O[r].p(o,d):(x(),V(O[I],1,1,()=>{O[I]=null}),$(),s=O[r],s?s.p(o,d):(s=O[r]=C[r](o),s.c()),R(s,1),s.m(u,null))},i(o){if(!T){for(let d=0;d<N.length;d+=1)R(p[d]);R(s),T=!0}},o(o){p=p.filter(Boolean);for(let d=0;d<p.length;d+=1)V(p[d]);V(s),T=!1},d(o){o&&v(t),o&&v(e),Te(p,o),l[4](null),O[r].d()}}}function xe(l,t,e){let n=[{gif:!1,body:"Hello World!"}],i=!1,a="",u;function f(b){ee[b?"unshift":"push"](()=>{u=b,e(2,u)})}function c(b){a=b,e(3,a)}const r=({detail:b})=>{e(0,n=[...n,{gif:!0,body:b}]),e(1,i=!1),e(3,a="")},s=()=>{e(1,i=!1)},h=()=>{e(1,i=!0)};function y(){a=this.value,e(3,a)}const k=()=>{!a||(e(0,n=[...n,{gif:!1,body:a}]),e(3,a=""))};return l.$$.update=()=>{l.$$.dirty&7&&Oe().then(()=>{u==null||u.scrollTo({top:u.scrollHeight})})},[n,i,u,a,f,c,r,s,h,y,k]}class et extends A{constructor(t){super();K(this,t,xe,Ze,Q,{})}}export{et as default};
